{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/angular-templates-start-to-source/","result":{"data":{"site":{"siteMetadata":{"title":"Unicorn Utterances","siteUrl":"https://unicorn-utterances.com","disqusShortname":"unicorn-utterances","repoPath":"unicorn-utterances/unicorn-utterances","relativeToPosts":"/content/blog"}},"markdownRemark":{"id":"9d0b9ab9-66b1-5a7b-9b9c-01a7b201d934","excerpt":"Article Overview This article was written with the idea that the reader is at least somewhat familiar with the introductory concepts of Angular. As a result, if‚Ä¶","html":"<h1 id=\"overview\"><a href=\"#overview\" aria-label=\"overview permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Article Overview</h1>\n<blockquote>\n<p>This article was written with the idea that the reader is at least somewhat familiar with the introductory concepts of Angular. As a result, if you haven't done so already, it is highly suggested that you make your way through the fantastic <a href=\"https://angular.io/start\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Angular getting started guide</a>.</p>\n</blockquote>\n<p>One of the core concepts to the Angular framework is the idea of templates. Templates allow developers to create embedded views of UI from other locations.</p>\n<p>These templates not only power many of Angular's baseline features, but are extremely versatile in their capabilities and serve as powerful tools to leverage:</p>\n<ul>\n<li>Templates can be passed and called manually in a similar way to functions.</li>\n<li>You can leverage a set of APIs built into these templates to pass and manipulate data from one template to another during the render process</li>\n</ul>\n<p>While this article is far from a comprehensive list of all template related APIs, I want to walk through as much as I can to help you understand how templates work in Angular, what you're able to do with them, and loosely how they're used within Angular itself. Some of the APIs we'll be going through include:</p>\n<ul>\n<li><code class=\"language-text\">ng-template</code></li>\n<li><code class=\"language-text\">TemplateRef</code></li>\n<li><code class=\"language-text\">EmbeddedViewRef</code></li>\n<li><code class=\"language-text\">ViewContent</code>/<code class=\"language-text\">ViewChildren</code></li>\n<li><code class=\"language-text\">ViewContainerRef</code></li>\n<li><code class=\"language-text\">createEmbeddedView</code></li>\n<li><a href=\"https://angular.io/guide/structural-directives#asterisk\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Structural Directives</a> (such as <code class=\"language-text\">*ngIf</code>)</li>\n</ul>\n<p>By the end of this article, you'll not only have read some of Angular's source code (<a href=\"https://github.com/angular/angular/commit/e1f6d1538784eb87f7497bef27e3c313184c2d30\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">as of 8.0.1</a>), but you should have a better understanding of how to implement many of these tools and how some of the APIs you use daily work under-the-hood.</p>\n<p>It's going to be a long article, so please feel free to take breaks, grab a drink to enjoy while reading, pause to tinker with code, or anything in-between. Feedback is always welcomed and appreciated.</p>\n<p>Sound like a fun time? Let's goooo! üèÉüåà</p>\n<blockquote>\n<p>The contents of this post was also presented in a talk under the same name. You can <a href=\"./slides.pptx\">find the slides here</a>.</p>\n</blockquote>\n<h1 id=\"intro\"><a href=\"#intro\" aria-label=\"intro permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Introduction To Templates</h1>\n<h2 id=\"ng-template\"><a href=\"#ng-template\" aria-label=\"ng template permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a><code class=\"language-text\">ng-template</code></h2>\n<p>Before we dive into the meat of this article, let's do a quick recap of what templates are and what they look like.</p>\n<p>While Angular templates come in many shapes and sizes, a simple but common use for them might look something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#falseTemp</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>False<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*ngIf</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>bool; else falseTemp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>True<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-1-ng-template?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>In this example, we are creating a template and assigning it to a <a href=\"https://blog.angulartraining.com/tutorial-the-magic-of-template-reference-variables-3183f0a0d9d1\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">template reference variable</a>. <em>This template reference variable makes <code class=\"language-text\">falseTemp</code> a valid variable to use as a value for other inputs in the same template.</em> It then handles that variable similarly to how a variable from the component logic is handled when referenced from the template.</p>\n<p>We are then adding the <a href=\"https://angular.io/api/common/NgIf\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">ngIf</code></a> structural directive to the paragraph tag to render content to the screen conditionally.</p>\n<ul>\n<li>If <code class=\"language-text\">bool</code> is true, it renders <code class=\"language-text\">&lt;p&gt;True&lt;/p&gt;</code>, and the template containing <code class=\"language-text\">&lt;p&gt;False&lt;/p&gt;</code> does not</li>\n<li>\n<p>If <code class=\"language-text\">bool</code> is false, it then checks if the <a href=\"https://angular.io/api/common/NgIf#showing-an-alternative-template-using-else\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">else</code> condition built into <code class=\"language-text\">ngIf</code></a> has a value assigned to it. If there is a value assigned to the <code class=\"language-text\">else</code> condition, it renders that template.</p>\n<ul>\n<li>In this example, it does; the template we've assigned to <code class=\"language-text\">templHere</code>. Because of this, <code class=\"language-text\">&lt;p&gt;False&lt;/p&gt;</code> is rendered</li>\n</ul>\n</li>\n</ul>\n<p>If you had forgotten to include the <code class=\"language-text\">ngIf</code>, it would never render the <code class=\"language-text\">False</code> element because <strong>a template is not rendered to the view unless explicitly told to ‚Äî this includes templates created with <code class=\"language-text\">ng-template</code></strong></p>\n<h2 id=\"ng-template-outlet\"><a href=\"#ng-template-outlet\" aria-label=\"ng template outlet permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Rendering Manually with <code class=\"language-text\">ngTemplateOutlet</code></h2>\n<p>But there's a <del>simpler</del> <del>much more complex</del> another way show the same template code above!</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#falseTemp</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>False<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#ifTrueCondTempl</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>True<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">[ngTemplateOutlet]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>bool ? ifTrueCondTempl : falseTemp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-2-conditional-render?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<blockquote>\n<p>While this is not how the <code class=\"language-text\">ngIf</code> structural template works internally, this is a good introduction to the <code class=\"language-text\">ngTemplateOutlet</code> directive, which adds functionality to the <code class=\"language-text\">ng-template</code> tag.</p>\n<p>If you're curious to how Angular's <code class=\"language-text\">ngIf</code> works, read on dear reader.</p>\n</blockquote>\n<p>While I'd mentioned previously that <code class=\"language-text\">ng-template</code> does not render to the DOM, because we're using <code class=\"language-text\">ngTemplateOutlet</code>, it renders the template defined in the passed <code class=\"language-text\">ng-template</code>.</p>\n<p>This template that's defined by <code class=\"language-text\">ng-template</code> is called a \"view\", and when it is rendered to the screen, it is called an \"embedded view\".</p>\n<p>This embedded view is located in the DOM, where the <code class=\"language-text\">ng-template</code> that used the <code class=\"language-text\">ngTemplateOutlet</code> resides. That is to say, if you look at the element inspector, the element is placed where you'd expect the <code class=\"language-text\">ng-template</code> to be located based on the structure of your code.</p>\n<p>Knowing that, you can see that the following example would show the user three of the most mythical beasts imaginable:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#unicorns</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span>ü¶Ñü¶Ñü¶Ñ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">[ngTemplateOutlet]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>unicorns<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>With this, combined with template reference variables, you may find it easier to use a ternary operator to pass the correct template based on the value of <code class=\"language-text\">bool</code> to create an embedded view of that template.</p>\n<h2 id=\"template-context\"><a href=\"#template-context\" aria-label=\"template context permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Pass Data To Templates ‚Äî The Template Context</h2>\n<p>Do you know how I mentioned that you can pass data between templates (at the start of the article)? This can be accomplished by defining the <em>context</em> of the template. This context is defined by a JavaScript object you pass to the template with your desired key/value pairs (just like any other object). When looking at an example below, <strong>think of it in terms of passing data from a parent component to a child component through property binding</strong>. When you define the context of a template, you're simply giving it the data it needs to fulfill its purpose in much the same way.</p>\n<p>So, now that we know what they are in broad terms, what do they look like?</p>\n<p>While we used the <code class=\"language-text\">ngTemplateOutlet</code> directive before to render a template, we can also pass an input to the directive <code class=\"language-text\">ngTemplateOutletContext</code> to pass a context. A context is just an object with a standard key/value pairing.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span>\n\t<span class=\"token attr-name\">[ngTemplateOutlet]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>showMsgToPerson<span class=\"token punctuation\">\"</span></span>\n\t<span class=\"token attr-name\">[ngTemplateOutletContext]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{$implicit: 'Hello World', personName: 'Corbin'}<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>From there, you can use <code class=\"language-text\">let</code> declarations to create template variables in that template based on the values passed by the context like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#showMsgToPerson</span> <span class=\"token attr-name\">let-message</span> <span class=\"token attr-name\">let-thisPersonsName</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>personName<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>{{message}} {{thisPersonsName}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Here, you can see that <code class=\"language-text\">let-templateVariableName=&quot;contextKeyName&quot;</code> is the syntax to bind any named context key's value to the template input variable with the name you provided after <code class=\"language-text\">let</code>. There is an edge-case you've probably noticed though, the <code class=\"language-text\">$implicit</code> key of the context is treated as a default of sorts, allowing a user to simply leave <code class=\"language-text\">let-templateVariableName</code> to be the value of the <code class=\"language-text\">$implicit</code> key of the context value.</p>\n<p>Now let's see it in action!</p>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-3-context?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>As a quick note, <em>I only named these template input variables differently from the context value key to make it clear that you may do so</em>. <code class=\"language-text\">let-personName=&quot;personName&quot;</code> is not only valid, but it also can make the code's intentions clearer to other developers.</p>\n<h1 id=\"view-references\"><a href=\"#view-references\" aria-label=\"view references permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>View References ‚Äî <code class=\"language-text\">ViewChild</code>/<code class=\"language-text\">ContentChild</code></h1>\n<h2 id=\"viewchild\"><a href=\"#viewchild\" aria-label=\"viewchild permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Keeping Logic In Your Controller using <code class=\"language-text\">ViewChild</code></h2>\n<p>While template reference variables are very useful for referencing values within the template itself, there may be times when you'll want to access a reference to an item in the template from the component logic. Luckily, there's a way to get a reference to any component, directive, or view within a component template.</p>\n<p>Using <a href=\"https://angular.io/api/core/ViewChild\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">ViewChild</code></a>, you're able to grab a reference to the <code class=\"language-text\">ng-template</code> from the component logic rather than the template code:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;div>\n\t\t\t&lt;ng-template #helloMsg>Hello&lt;/ng-template>\n\t\t&lt;/div>\n\t\t&lt;ng-template [ngTemplateOutlet]=\"helloMessageTemplate\">&lt;/ng-template>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// Ignore the `static` prop for now, we'll cover that in just a bit</span>\n\t@<span class=\"token function\">ViewChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'helloMsg'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">static</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> helloMessageTemplate<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-4-viewchild?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<blockquote>\n<p>While this example is effectively not-much-more than an alternative API to <code class=\"language-text\">ngTemplateOutlet</code>, it serves as a basis for introducing into further concepts.</p>\n</blockquote>\n<p><em><code class=\"language-text\">ViewChild</code> is a \"property decorator\" utility for Angular that searches the component tree to find what you pass it as a query.</em> In the example above, when we pass the string <code class=\"language-text\">&#39;templName&#39;</code>, we are looking for something in the tree that is marked with the template variable <code class=\"language-text\">helloMsg</code>. In this case, it's an <code class=\"language-text\">ng-template</code>, which is then stored to the <code class=\"language-text\">helloMessageTemplate</code> property when this is found. Because it is a reference to a template, we are typing it as <code class=\"language-text\">TemplateRef&lt;any&gt;</code> to have TypeScript understand the typings whenever it sees this variable.</p>\n<h3 id=\"viewchild-not-just-templates\"><a href=\"#viewchild-not-just-templates\" aria-label=\"viewchild not just templates permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Not Just for Templates!</h3>\n<p><code class=\"language-text\">ViewChild</code> isn't just for templates, either. You can get references to anything in the view tree:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;my-custom-component #myComponent [inputHere]=\"50\" data-unrelatedAttr=\"Hi there!\">&lt;/my-custom-component>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span>\n\t@<span class=\"token function\">ViewChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myComponent'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">static</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> myComponent<span class=\"token punctuation\">:</span> MyComponentComponent<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>For example, would give you a reference to the <code class=\"language-text\">MyComponentComponent</code> instance of the template. If you ran:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">/* This would be added to the `AfterViewInit` lifecycle method */</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myComponent<span class=\"token punctuation\">.</span>inputHere<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// This will print `50`</span></code></pre></div>\n<p>It would give you the property value on the instance of that component. Angular by default does a pretty good job at figuring out what it is that you wanted to get a reference of and returning the \"correct\" object for that thing.</p>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-5-view-not-template?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>Despite the examples thus far having only used a string as the query for <code class=\"language-text\">ViewChild</code>, you're also able to use the ComponentClass to query for a component with that component type.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">/* This would replace the previous @ViewChild */</span>\n@<span class=\"token function\">ViewChild</span><span class=\"token punctuation\">(</span>MyComponentComponent<span class=\"token punctuation\">)</span> myComponent<span class=\"token punctuation\">:</span> MyComponentComponent<span class=\"token punctuation\">;</span></code></pre></div>\n<p>For the particular example listed above, this code change would still yield the same results. <em>When using <code class=\"language-text\">ViewChild</code>, it might be dangerous to do this if you have many components with that class.</em> This is because when using <code class=\"language-text\">ViewChild</code>, <em>it only returns the first result that Angular can find</em> ‚Äî this could return results that are unexpected if you're not aware of that.</p>\n<h3 id=\"viewchild-read-prop\"><a href=\"#viewchild-read-prop\" aria-label=\"viewchild read prop permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>My Name is <del>Inigo Montoya</del> the <code class=\"language-text\">read</code> Prop</h3>\n<p>Awesome! But I wanted to get the value of the <code class=\"language-text\">data-unrelatedAttr</code> attribute dataset, and my component definition doesn't have an input for that. How do I get the dataset value?</p>\n<p>Ahh, so you've seen the problem with Angular's guessing of what datatype you're looking for. There are times where we, the developers, know better of what we're looking for than the framework services.</p>\n<p>Fancy that.</p>\n<p>When we want to overwrite the type of data we expect <code class=\"language-text\">ViewChild</code> to return, we can use a second property passed to the <code class=\"language-text\">ViewChild</code> decorator with the type we want to be returned. With the use-case mentioned above, we can tell Angular that we want a reference to the element of the component itself by using the <code class=\"language-text\">ElementRef</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">/* This would replace the previous @ViewChild */</span>\n@<span class=\"token function\">ViewChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myComponent'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>read<span class=\"token punctuation\">:</span> ElementRef<span class=\"token punctuation\">,</span> <span class=\"token keyword\">static</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> myComponent<span class=\"token punctuation\">:</span> ElementRef<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now that we've configured the <code class=\"language-text\">ViewChild</code> to read this as an <code class=\"language-text\">ElementRef</code> (a class provided from <code class=\"language-text\">@angular/core</code> which helps us get the right value back from the query) rather than a component reference, we're able to use the <code class=\"language-text\">nativeElement</code> property of that class to get the HTMLElement object for that component instance.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">/* This would be added to the `AfterViewInit` lifecycle method */</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myComponent<span class=\"token punctuation\">.</span>nativeElement<span class=\"token punctuation\">.</span>dataset<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data-unrelatedAttr'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// This output `\"Hi there!\"`</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-6-read-prop?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p><code class=\"language-text\">ViewChild</code> isn't an only child, though (get it?). There are other APIs similar to it that allow you to get references to other items in your templates from your component logic.</p>\n<h2 id=\"viewchildren\"><a href=\"#viewchildren\" aria-label=\"viewchildren permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a><code class=\"language-text\">ViewChildren</code>: More references then your nerdy pop culture friend</h2>\n<p><code class=\"language-text\">ViewChildren</code> allows you to get a reference to any items in the view that match your <code class=\"language-text\">ViewChildren</code> query as an array of each item that matches:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;div>\n\t\t\t&lt;my-custom-component [inputHere]=\"50\">&lt;/my-custom-component>\n\t\t\t&lt;my-custom-component [inputHere]=\"80\">&lt;/my-custom-component>\n\t\t&lt;/div>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span>\n\t@<span class=\"token function\">ViewChildren</span><span class=\"token punctuation\">(</span>MyComponentComponent<span class=\"token punctuation\">)</span> myComponents<span class=\"token punctuation\">:</span> QueryList<span class=\"token operator\">&lt;</span>MyComponentComponent<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-7-viewchildren?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>Would give you a list of all components with that base class. You're also able to use the <code class=\"language-text\">{read: ElementRef}</code> property from the <code class=\"language-text\">ViewChild</code> property decorator to get a <code class=\"language-text\">QueryList&lt;ElementRef&gt;</code> (to be able to get a reference to the DOM <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Elements</a> themselves) instead of a query list of <code class=\"language-text\">MyComponentComponent</code> types.</p>\n<h3 id=\"viewchildren-querylist\"><a href=\"#viewchildren-querylist\" aria-label=\"viewchildren querylist permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>What is <code class=\"language-text\">QueryList</code></h3>\n<p>While <code class=\"language-text\">QueryList</code> (from <code class=\"language-text\">@angular/core</code>) returns an array-like, and the core team has done an outstanding job at adding in all the usual methods (<code class=\"language-text\">reduce</code>, <code class=\"language-text\">map</code>, etc.) and it <em>extends an iterator interface</em> (so it works with <code class=\"language-text\">*ngFor</code> in Angular templates and <code class=\"language-text\">for (let i of _)</code> in TypeScript/JavaScript logic), <em>it is not an array</em>. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/NodeList\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">A similar situation occurs when using <code class=\"language-text\">document.querySelectorAll</code> in plain JavaScript</a>. <em>If you're expecting an array from an API that returns <code class=\"language-text\">QueryList</code>, it might be best to use <code class=\"language-text\">Array.from</code></em> on the value (in this case the <code class=\"language-text\">myComponents</code> component prop) when you access it in logic later.</p>\n<p>A <code class=\"language-text\">QueryList</code> also allows for some nice additions like the <code class=\"language-text\">changes</code> observable property that allows you to listen for changes to this query. For example, if you had some components that were hidden behind a toggle:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- This would make up the template of a new component --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">[(ngModel)]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>bool<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">*ngIf</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>bool<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>my-custom-component</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>my-custom-component</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>my-custom-component</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>my-custom-component</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>And wanted to get the value of all component's <code class=\"language-text\">numberProp</code> values reduced into one, you could do so using the <code class=\"language-text\">changes</code> observable:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">/* This would be added to the `AfterViewInit` lifecycle method */</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myComponents<span class=\"token punctuation\">.</span>changes<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">compsQueryList</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">const</span> componentsNum <span class=\"token operator\">=</span> compsQueryList<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">prev<span class=\"token punctuation\">,</span> comp</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> prev <span class=\"token operator\">+</span> comp<span class=\"token punctuation\">.</span>numberProp<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>componentsNum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// This would output the combined number from all of the components' `numberProp` fields. This would run any time Angular saw a difference in the values</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-8-querylist?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>It might be a good idea to gain familiarity of doing this as the Angular docs give the following warning in the <a href=\"https://angular.io/api/core/QueryList#changes\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">QueryList</code> docs</a>:</p>\n<blockquote>\n<p>NOTE: In the future this class will implement an Observable interface.</p>\n</blockquote>\n<h2 id=\"contentchildren\"><a href=\"#contentchildren\" aria-label=\"contentchildren permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a><code class=\"language-text\">ContentChildren</code>: If this article had kids</h2>\n<p>Author's note:</p>\n<blockquote>\n<p>This section of the article assumes that you know what the <code class=\"language-text\">ng-content</code> tag is. While I could do an in-depth dive on what <code class=\"language-text\">ng-content</code> and content projection is, it's somewhat outside of the scope of this current article. Let me know if this is something that interests you; I might do another deep, deep dive into how Angular parses tags like <code class=\"language-text\">ng-content</code> and how it's handled by Angular's AST and template parsing/etc.</p>\n<p>If you're less familiar with <code class=\"language-text\">ng-content</code>, you can probably get by with just knowing how parent/child relationships elements work and just reading through carefully. Never be afraid to ask questions!</p>\n<p>There's also the <code class=\"language-text\">:host</code> selector used in these demos. Think of each component creating their own wrapper <code class=\"language-text\">div</code> ‚Äî the <code class=\"language-text\">:host</code> selector applies styling to the component wrapper element itself.</p>\n</blockquote>\n<p>I always love nesting some of my code into <code class=\"language-text\">ng-content</code>s. I don't know what's so appealing about having my code look like it's straight out of HTML spec, but just being able to pass component instances and elements as children to one of my components and then tinkering with them is so satisfying.</p>\n<p>One thing I always run into though is that I always end up wanting to style the components that are passed in. Take the following example:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>cards-list</span><span class=\"token punctuation\">></span></span> <span class=\"token comment\">&lt;!-- Cards list has default styling with grey background --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action-card</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>action-card</span><span class=\"token punctuation\">></span></span> <span class=\"token comment\">&lt;!-- Action card has default styling with grey background --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action-card</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>action-card</span><span class=\"token punctuation\">></span></span> <span class=\"token comment\">&lt;!-- It's also widely used across the app, so that can't change --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>cards-list</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Anyone with a sense of design might be cringing about now. Grey on grey? On cards? Yuck! Let's make those cards have some white backgrounds.</p>\n<p>This might seem like a trivial task to anyone assuming that these components are built-in HTML elements as of course a CSS stylesheet like so would apply:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">// cards-list.component.css\naction-card</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">background</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>But this is often not the case. <em><a href=\"https://angular.io/api/core/ViewEncapsulation\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Angular's <code class=\"language-text\">ViewEncapsulation</code></a> prevents styles from one component from affecting the styling of another</em>. This is especially true if you're using a configuration that allows the native browser to handle the components under the browser's shadow DOM APIs, which restricts stylesheet sharing on a browser-level. This is why the <a href=\"https://angular.io/guide/component-styles#deprecated-deep--and-ng-deep\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Angular-specific CSS selector <code class=\"language-text\">::ng-deep</code></a> has been marked for depreciation (sorry old-school Angular developers [including myself, so much to migrate üò≠]).</p>\n<p>It's no matter, though. We have the power of <code class=\"language-text\">ViewChildren</code> on our side! Corbin already showed us how to get a reference to an element of a rendered component! Let's spin up an example:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'action-card'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;div>&lt;/div></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n\tstyles<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t:host {\n\t\t\tborder: 1px solid black;\n\t\t\tdisplay: inline-block;\n\t\t\theight: 300px;\n\t\t\twidth: 100px;\n\t\t\tbackground: grey;\n\t\t\tmargin: 10px;\n\t\t}\n\t</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ActionCard</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'cards-list'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;div>&lt;ng-content>&lt;/ng-content>&lt;/div></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n\tstyles<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">:host {background: grey; display: block;}</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CardsList</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AfterViewInit</span> <span class=\"token punctuation\">{</span>\n\t@<span class=\"token function\">ViewChildren</span><span class=\"token punctuation\">(</span>ActionCard<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>read<span class=\"token punctuation\">:</span> ElementRef<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> actionCards<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token function\">ngAfterViewInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">// Any production code should absolutely be cleaning this up properly,</span>\n\t\t<span class=\"token comment\">// this is just for demonstration purposes</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>actionCards<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">elRef</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Changing background of a card\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">setStyle</span><span class=\"token punctuation\">(</span>elRef<span class=\"token punctuation\">.</span>nativeElement<span class=\"token punctuation\">,</span> <span class=\"token string\">\"background\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Awesome, let's spin that up and‚Ä¶ Oh.</p>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-9-cardlist-broke?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>The cards are still grey. Let's open up our terminal and see if the <code class=\"language-text\">console.log</code>s ran.</p>\n<p>They didn't.</p>\n<p>Alright, I could keep going, but I know you've all read the section title (üëÄ at the skim-readers).</p>\n<p><code class=\"language-text\">ViewChildren</code> is a fantastic tool but only works for the items defined in the template of the component itself. Any children that are passed to the component are not handled the same way and require <code class=\"language-text\">ContentChildren</code> instead. The same applies to <code class=\"language-text\">ViewChild</code> (which has the adjacent API of <code class=\"language-text\">ContentChild</code>). The <code class=\"language-text\">ContentChild/ren</code> should share the same API with their <code class=\"language-text\">ViewChild/ren</code> counterparts.</p>\n<p>If we change the <code class=\"language-text\">ViewChildren</code> line to read:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">ContentChildren</span><span class=\"token punctuation\">(</span>ActionCard<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>read<span class=\"token punctuation\">:</span> ElementRef<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> actionCards<span class=\"token punctuation\">;</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-10-cardlist-fixed?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>We'll see that the code now runs as expected. The cards are recolored, the <code class=\"language-text\">consoles.log</code>s ran, and the developers are happy.</p>\n<h3 id=\"viewchildren-without-ng-content\"><a href=\"#viewchildren-without-ng-content\" aria-label=\"viewchildren without ng content permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>The Content Without the <code class=\"language-text\">ng</code></h3>\n<p><code class=\"language-text\">ContentChild</code> even works when you're not using <code class=\"language-text\">ng-content</code> but still passing components and elements as children to the component. So, for example, if you wanted to pass a template as a child but wanted to render it in a very specific way, you could do so:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- root-template.component.html --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>render-template-with-name</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">let-userName</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Hello there, {{userName}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>render-template-with-name</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// render-template-with-name.component.ts</span>\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'render-template-with-name'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t&lt;ng-template\n\t\t[ngTemplateOutlet]=\"contentChildTemplate\"\n\t\t[ngTemplateOutletContext]=\"{$implicit: 'Name here'}\">\n\t&lt;/ng-template>\n</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span>\n\t@<span class=\"token function\">ContentChild</span><span class=\"token punctuation\">(</span>TemplateRef<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">static</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> contentChildTemplate<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This is a perfect example of where you might want <code class=\"language-text\">@ContentChild</code> ‚Äî not only are you unable to use <code class=\"language-text\">ng-content</code> to render this template without a template reference being passed to an outlet, but you're able to create a context that can pass information to the template being passed as a child.</p>\n<h1 id=\"understand-the-tree\"><a href=\"#understand-the-tree\" aria-label=\"understand the tree permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>How Does Angular Track the UI</h1>\n<p>Awesome! We've been blowing through some of the real-world uses of templates like a bullet-train through a tunnel. üöÜ But I have something to admit: I feel like I've been doing a pretty bad job at explaining the \"nitty-gritty\" of how this stuff works. While that can often be a bit more dry of a read, I think it's very important to be able to use these APIs to their fullest. As such, let's take a step back and read through some of the more abstract concepts behind them.</p>\n<p>One of these abstract concepts comes from how Angular tracks what‚Äôs on-screen; just like the browser has the <em>Document Object Model</em> tree (often called the DOM), Angular has the <em>View Hierarchy Tree</em>.</p>\n<h2 id=\"the-dom\"><a href=\"#the-dom\" aria-label=\"the dom permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>The DOM Tree</h2>\n<p>Okay, I realize I just dropped some vocab on you without explaining first. Let's change that.</p>\n<p>So, when you build out an HTML file, you're defining the shape the document object model (DOM) takes. When you load a file similar to this:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- index.html --></span>\n<span class=\"token comment\">&lt;!-- ids are only added for descriptive purposes --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>a<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>b<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>c<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Item 1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>d<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Item 2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>e<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Text here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><em>The browser takes the items that've been defined in HTML and turns them into a tree that the browser can understand how to layout and draw on the screen</em>. That tree, internally, might look something like this:</p>\n<p><img src=\"./dom_tree.svg\" alt=\"A chart showing the document object model layout of the above code. It shows that the &#x27;main&#x27; tag is the parent to a &#x27;ul&#x27; tag, and so on\" title=\"Diagram showing the above code as a graph\"></p>\n<p>This tree tells the browser where to place items and includes some logic when combined with CSS, even. For example, when the following CSS is applied to the <code class=\"language-text\">index.html</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">#b li</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">background</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>It finds the element with the ID of <code class=\"language-text\">b</code>, then the children of that tag are colored red. They're \"children\" because the DOM tree keeps that relationship info that's defined by the HTML.</p>\n<p><img src=\"./dom_tree_with_css.svg\" alt=\"A chart showing the &#x27;ul&#x27; tag highlighted in green with the children &#x27;li&#x27; tags marked in red\" title=\"Diagram showing the above code as a graph\"></p>\n<blockquote>\n<p>The <code class=\"language-text\">ul</code> element is marked as green just to showcase that it is the element being marked by the first part of the selector</p>\n</blockquote>\n<h2 id=\"View-Hierarchy-Tree\"><a href=\"#View-Hierarchy-Tree\" aria-label=\"View Hierarchy Tree permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>View Hierarchy Tree</h2>\n<p>In the same way, the browser keeps track of what's rendered into the dom using the DOM tree, Angular has its own tree to keep track what's rendered on-screen.</p>\n<p>The reason Angular has its own tree is due to the dynamic nature of Angular. In order to understand how to hide content on the fly, change out the content on-screen, and know how to keep consistent expected interactions between all of this, Angular needs to have a tree to keep track of its state.</p>\n<p><em>While Angular renders to the DOM in the end</em> (just as vanilla HTML would), <em>Angular has the original information that described how to render things onto screen. When Angular detects changes to this tree, it will then update the DOM with the changes that Angular has tracked</em>.</p>\n<blockquote>\n<p>I will make a note that, while Angular's <em>View Hierarchy Tree</em> is used by Angular to keep track of component/template composition (and some might argue that this is a \"virtual DOM\" of sorts as it updates the DOM based off of it's own tree), Angular makes no claims that this is a virtual DOM (AFAIK).</p>\n<p>Virtual DOMs have highly contested conversation surrounding them and have no standard definition as-to what one is or is not. I only used the DOM to present a foundational understanding of hierarchy trees in general.</p>\n</blockquote>\n<p>Because this tree is used to update the DOM rather than being part of the DOM itself, <em>the tree Angular uses to track its state is called the \"view hierarchy tree\"</em>. This tree is composed of various \"views\". <em>A view is a grouping of elements and is the smallest grouping of elements that can be created or destroyed together</em>. <strong>A view is defined by a template.</strong> <em>This template on its own is not a view, but does define a view</em></p>\n<p>Because of this, despite there being many templates ‚Äî this code sample does not have any views in it, because they are not being created from any of the templates:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span><span class=\"token punctuation\">></span></span>I am a view that's defined by a template<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>So am I! Just a different one. Everything in THIS template is in the same view<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>Even with me in here? <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span><span class=\"token punctuation\">></span></span>Yup!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>However, when you create a view from a template, you're able to display them on-screen. When a view is displayed on-screen, they're then called an <em>embedded view</em>. So, when we render a template using <code class=\"language-text\">ngTemplateOutlet</code>, we are creating a view from a template, then embedding the view in the view that you called the <code class=\"language-text\">ngTemplateOutlet</code> in.</p>\n<p>As such, the following code example would create the view hierarchy in the chart below the code sample:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>I am in a view right now<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#rememberMsg</span><span class=\"token punctuation\">></span></span>\n\t\tBut as you might recall, this is also a view\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span>\n\t\t<span class=\"token attr-name\">[ngTemplateOutlet]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>rememberMsg<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token attr-name\">[ngTemplateOutletContext]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{$implicit: 'So when we render it, it\\'s a view within a view'}<span class=\"token punctuation\">\"</span></span>\n\t<span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><img src=\"./hierarchy_example_intro.svg\" alt=\"A chart showing the relationship between the templates. The first item is a template, with an elment, view, and template as children. There is an arrow pointing from the child view to the child template\" title=\"Diagram showing the above code as a graph\"></p>\n<blockquote>\n<p>The arrow in this chart simply shows that the view is being defined by the template itself</p>\n</blockquote>\n<p>It's this composition of views that make up the \"view hierarchy\".</p>\n<h2 id=\"View-Containers\"><a href=\"#View-Containers\" aria-label=\"View Containers permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>View Containers</h2>\n<p>Admittedly, that chart above isn't QUITE right. A more accurate version of the chart might look something like this:</p>\n<p><img src=\"./hierarchy_example_intro.svg\" alt=\"The same chart from above but the top-level template now has an arrow pointing to an item &#x22;view container&#x22; before listing the other children\" title=\"Diagram showing the above code as a graph\"></p>\n<p>Little has changed, yet there's something new! A <em>view container</em> is just what it sounds like: It's a container for views. That is to say, whenever you see a view embedded, you can be sure it's a child of a view container. While our code might not make it apparent, when we're using <code class=\"language-text\">ngTemplateOutlet</code>, Angular creates a view container for us to place the view into. It will create the view container from a template, view, or even from an element.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#letsRender</span><span class=\"token punctuation\">></span></span>\n\t\tLet's render this thing!\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">[ngTemplateOutlet]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>letsRender<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><img src=\"./hierarchy_view_container_on_element.svg\" alt=\"A chart showing an element as the root with two children, a template and a view. The view points towards the template\" title=\"Diagram showing the above code as a graph\"></p>\n<p><em>It is because Angular's view containers being able to be attached to views, templates, and elements that enable the dependency injection system to get a <code class=\"language-text\">ViewContainerRef</code> regardless of what you're requested the <code class=\"language-text\">ViewContainerRef</code> on</em>.</p>\n<h2 id=\"components-are-directives\"><a href=\"#components-are-directives\" aria-label=\"components are directives permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Host Views</h2>\n<p>If you're looking for them, you might notice a few similarities between a component declaration's <code class=\"language-text\">template</code> and <code class=\"language-text\">ng-template</code>s:</p>\n<ul>\n<li>Both of them allow for values to be passed into them (<code class=\"language-text\">@Input</code> props for components, context for templates)</li>\n<li>Both of them contain the same support for tags and template creation (using <code class=\"language-text\">ng-template</code>).</li>\n</ul>\n<p>Well, there's a good reason for that: <em>A component is actually just a directive with a special view ‚Äî a \"host view\" (defined by the <code class=\"language-text\">template</code> or <code class=\"language-text\">templateUrl</code> field in the decorator) associated with it</em>.</p>\n<p><a href=\"https://angular.io/guide/architecture-components#directives\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">To quote the Angular documentation</a>:</p>\n<blockquote>\n<p>A component is technically a directive. However, components are so distinctive and central to Angular applications that Angular defines the <code class=\"language-text\">@Component()</code> decorator, which extends the <code class=\"language-text\">@Directive()</code>decorator with template-oriented features.</p>\n</blockquote>\n<p>This host view can also be attached to another view by using the <code class=\"language-text\">selector</code> value of that component's.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">\"child-component\"</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;p>I am in the host view, which acts as a view container for other views to attach to&lt;/p>\n\t\t&lt;div>&lt;p>I am still in the child-component's host view&lt;/p>&lt;/div>\n\t\t&lt;ng-template #firstChildCompTempl>\n\t\t\t&lt;p>I am in a view outside of the child-component's host view&lt;/p>\n\t\t&lt;/ng-template>\n\t\t&lt;ng-template\n\t\t\t[ngTemplateOutlet]=\"firstChildCompTempl\"\n\t\t\t[ngTemplateOutletContext]=\"{$implicit: 'And now I'm attaching that template to the host view by embedding the view'}\"\n\t\t>&lt;/ng-template>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ChildComponent</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;p>I am in app's host view, and can act as a view container for even other host views by using the component's selector&lt;/p>\n\t\t&lt;child-component>&lt;/child-component>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"./hierarchy_tree_example.svg\" alt=\"A chart showing the heirarchy of the above code. It shows &#x22;my-app&#x22; having a host view, which has a view container. This view container is the parent to an element and &#x22;child-component&#x22;, which has its own host view, view container, and children\" title=\"Diagram showing the above code as a graph\"></p>\n<h2 id=\"Template-Input-Variable-Scope\"><a href=\"#Template-Input-Variable-Scope\" aria-label=\"Template Input Variable Scope permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Template Input Variable Scope</h2>\n<p>Template input variables are the variables you bind to a template when using context. <code class=\"language-text\">&lt;ng-template let-varName&gt;</code>. <em>These variables are defined from the context that is applied to the template</em>. As a result <strong>these templates are able to be accessed by the children views of the templates, but not from a higher level</strong> ‚Äî as the context is not defined above the template:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- ‚úÖ This is perfectly fine --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">let-varName</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>{{varName}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token comment\">&lt;!-- ‚ùå This will throw errors, as the template context is not available from anywhere that isn't a child of the template --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">let-thisVar</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>{{thisVar}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"Template-Reference-Variable-Scope\"><a href=\"#Template-Reference-Variable-Scope\" aria-label=\"Template Reference Variable Scope permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Template Reference Variable Scope</h2>\n<p>Template reference variables, however, have a much more complex answer in regards to how they're able to be accessed.</p>\n<p>As a small review of what they are:\n<em>A template reference variable is a variable assigned to a tag so that other items in the same template are able to reference that tag.</em></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n\tHello There!\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#testingMessage</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Testing 123<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">[ngTemplateOutlet]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>testingMessage<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token comment\">&lt;!-- Will now show the following in the DOM: --></span>\n<span class=\"token comment\">&lt;!--        &lt;div>Hello There!&lt;/div>          --></span>\n<span class=\"token comment\">&lt;!--           &lt;p>Hi There&lt;/p>               --></span></code></pre></div>\n<p>In this example, we're getting a reference to <code class=\"language-text\">testingMessage</code> template to be able to provide as an input. We're then passing that value to another <code class=\"language-text\">ng-template</code>'s <code class=\"language-text\">ngTemplateOutlet</code> directive to get it rendering on-screen.</p>\n<p>Straightforward enough example, let‚Äôs see a more difficult example:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#helloThereMsg</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Hello There!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#testingMessage</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Testing 123<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">[ngTemplateOutlet]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>helloThereMsg<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">[ngTemplateOutlet]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>testingMessage<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-11-broke-template-var?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>If you look at the output of this example, you'll notice that <code class=\"language-text\">testingMessage</code> isn't rendering. This is because template reference variables bind to the view that they're present in; and as a result are unable to be accessed from parent views.</p>\n<p><a href=\"#the-dom\">Like how CSS is applied to a dom when bound to a selector</a>, template reference variables can be accessed within the view itself and child views, but not the parent views.</p>\n<p><img src=\"./template_reference_scope.svg\" alt=\"Chart showing the above code sample to match the prior visualization aids\" title=\"Visualization of the hierarchy tree for the prior cod example\"></p>\n<p>When the view that is trying to render <code class=\"language-text\">testMessage</code> looks for that template reference variable, it is unable to, as it is bound to the <code class=\"language-text\">helloThereMsg</code> template view. Because it cannot find a template reference variable with the id <code class=\"language-text\">testMessage</code>, it treats it like any other unfound variable: an <code class=\"language-text\">undefined</code> value. The default behavior of <code class=\"language-text\">undefined</code> being passed to <code class=\"language-text\">ngTemplateOutlet</code> is to not render anything.</p>\n<p>In order to fix this behavior, we'd need to move the second <code class=\"language-text\">ng-template</code> into the <code class=\"language-text\">helloThereMsg</code> template view so that the <code class=\"language-text\">ngTemplateOutlet</code> is able to find the matching template reference variable within its view scope.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#helloThereMsg</span><span class=\"token punctuation\">></span></span>\n\tHello There!\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">#testingMessage</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Testing 123<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">[ngTemplateOutlet]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>testingMessage<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">[ngTemplateOutlet]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>helloThereMsg<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-12-fixed-template-var?embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<h1 id=\"timings\"><a href=\"#timings\" aria-label=\"timings permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>The Bane of All JavaScipt Developer: Timings</h1>\n<h2 id=\"viewchildren-timings\"><a href=\"#viewchildren-timings\" aria-label=\"viewchildren timings permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Understanding timings with <code class=\"language-text\">ViewChildren</code></h2>\n<p>But the example immediately above doesn't have the same behavior as the one we likely intended. We wanted to get:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>Hello there!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Testing 123<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>And instead got:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>Hello there! <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Testing 123<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>This is because, when we moved the template into the correct view scope, we moved it in the element tree as well.</p>\n<p>Luckily, we've already covered <code class=\"language-text\">@ViewChild</code>, which is able to get references all the way down the view hierarchy tree and provide the value to the component logic. Because the <strong>component logic variables are accessible from any child view of the component host view</strong>, you can pass the <code class=\"language-text\">testingMessage</code> template reference variable to the top level.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">\"my-app\"</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;ng-template #helloThereMsg>\n\t\t\tHello There!\n\t\t\t&lt;ng-template #testingMessage>Testing 123&lt;/ng-template>\n\t\t&lt;/ng-template>\n\t\t&lt;ng-template [ngTemplateOutlet]=\"helloThereMsg\">&lt;/ng-template>\n\t\t&lt;ng-template [ngTemplateOutlet]=\"testingMessageCompVar\">&lt;/ng-template>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span>\n\t@<span class=\"token function\">ViewChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"testingMessage\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">static</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> testingMessageCompVar<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Something you'll see if you open the console in that example is an error you may already be familiar with if you‚Äôve used Angular extensively in the past (I know I sure saw it more then a few times!):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error: ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: &#39;ngTemplateOutlet: undefined&#39;. Current value: &#39;ngTemplateOutlet: [object Object]&#39;.</code></pre></div>\n<blockquote>\n<p>This error is being thrown by Angular's developer mode, so if you're running a production build, this error will not show.</p>\n</blockquote>\n<p>Why is this error happening? What can we do to fix it?</p>\n<p>This, my friends, is where the conversation regarding change detection, lifecycle methods, and the <code class=\"language-text\">static</code> prop come into play.</p>\n<h2 id=\"change-detection\"><a href=\"#change-detection\" aria-label=\"change detection permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Change Detection, How Does It Work</h2>\n<blockquote>\n<p>Change detection in Angular is deserving of its own massive article: This is not that article. That said, understanding how change detection and how it affects the availability of templates is imperative to understanding some of the more ambiguous aspects of Angular template‚Äôs behaviors.</p>\n<p>More information can be found on lifecycle methods and change detection on <a href=\"https://angular.io/guide/lifecycle-hooks\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the official docs page for them</a>.</p>\n</blockquote>\n<p><em>Angular has specific hooks of times when to update the UI</em>. Without these hooks, Angular has no way of knowing when data that's shown on-screen is updated. These hooks essentially simply check when data has changed. While these checks are imperfect, they have default behavior that will handle most cases and and the ability to overwrite it and even manually trigger a check.</p>\n<p>One of the default checks that is ran when Angular is starting the initial render of a component. During this time, it will do a check of all of the values stored within the component's state. Afterwards, it will run checks whenever any data has changed whether or not to update the UI.</p>\n<p>These checks trigger the lifecycle method <code class=\"language-text\">DoCheck</code>, which you can manually handle. The <code class=\"language-text\">DoCheck</code> lifecycle method will trigger every time Angular detects data changes, regardless of if the check of that data does not decide to update the item on-screen or not.</p>\n<p>So let's look at the example we had previously, but let's add some lifecycle methods to evaluate when <code class=\"language-text\">ViewChild</code> is able to give us our value.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">DoCheck</span><span class=\"token punctuation\">,</span> OnChanges<span class=\"token punctuation\">,</span> AfterViewInit <span class=\"token punctuation\">{</span>\n\trealMsgVar<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\t@<span class=\"token function\">ViewChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"testingMessage\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">static</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> testingMessageCompVar<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ngOnInit | The template is present?\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>testingMessageCompVar<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token function\">ngDoCheck</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ngDoCheck | The template is present?\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>testingMessageCompVar<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>realMsgVar <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>testingMessageCompVar<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token function\">ngAfterViewInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ngAfterViewInit | The template is present?'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>testingMessageCompVar<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-13-lifecycle-explain?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>Looking at the console logs, you'll be left with the following messages in your console:</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">ngOnInit        | The template is present? false\nngDoCheck       | The template is present? false\nngAfterViewInit | The template is present? true\nngDoCheck       | The template is present? true</code></pre></div>\n<p>You can see that the <code class=\"language-text\">testingMessageCompVar</code> property is not defined until the <code class=\"language-text\">ngAfterViewInit</code>. <em>The reason we're hitting the error is that the template is not defined in the component logic until <code class=\"language-text\">ngAfterViewInit</code>.</em> It is not defined until them due to timing issues:* <strong>the template is being declared in an embedded view, which takes a portion of time to render to screen</strong>. As a result, the <code class=\"language-text\">helloThereMsg</code> template must render first, then the <code class=\"language-text\">ViewChild</code> can get a reference to the child after the initial update.</p>\n<p>When using <code class=\"language-text\">ViewChild</code> by itself, it updates the value of the <code class=\"language-text\">testingMessageCompVar</code> at the same time that the <code class=\"language-text\">AfterViewInit</code> lifecycle method is ran. This value update is then in turn reflected in the template itself.</p>\n<p>Angular, however, does not like values being updated directly within the <code class=\"language-text\">AfterViewInit</code>. Angular runs change detection often after an <code class=\"language-text\">ngDoCheck</code> and, after that method, does not like to re-check if there are things to update on-screen (as there can be timing conflicts under-the-hood that require a lot of foundation regarding how the change detection process works to explain properly ‚Äî well outside the scope of this post).</p>\n<p>Because of this ‚Äî when using the <code class=\"language-text\">ngDoCheck</code> ‚Äî you're manually running the variable update, which in turn informs Angular‚Äôs change detection process to include this in it‚Äôs list of screen updates.</p>\n<blockquote>\n<p>I realize there‚Äôs a lot going on in this example and that can be very confusing, even for me writing it! If you‚Äôre wanting to learn more but feeling discouraged after reading through this section a time or two, give <a href=\"https://blog.angular-university.io/angular-debugging/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this resource</a> (from \"Angular University\", a great un-official Angular resource hub) a shot. It‚Äôs what I used to re-learn the elements at play with this error.</p>\n</blockquote>\n<blockquote>\n<p>If there‚Äôs more interest in an article from me about Angular change detection, reach out ‚Äî I'd love to gauge interest!</p>\n</blockquote>\n<h3 id=\"static-prop\"><a href=\"#static-prop\" aria-label=\"static prop permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Great Scott ‚Äî You Control The Timing! The <code class=\"language-text\">static</code> Prop</h3>\n<p>That said, there might be times where having the value right off the bat from the <code class=\"language-text\">ngOnInit</code> might be useful. After all, if you're not embedding a view into a view, it would be extremely useful to be able to get the reference before the <code class=\"language-text\">ngAfterViewInit</code> and be able to avoid the fix mentioned above.</p>\n<blockquote>\n<p>Before I go much further, I will remind readers that <a href=\"https://github.com/angular/angular/pull/28810\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the <code class=\"language-text\">static</code> prop was introduced in Angular 8</a>; this section does not apply to <code class=\"language-text\">ViewChild</code>/<code class=\"language-text\">ContentChild</code> prior to that version</p>\n</blockquote>\n<p>Well, that can be controlled via the <code class=\"language-text\">static</code> prop! Before this example, I was defaulting to use <code class=\"language-text\">static: false</code> to avoid running into <a href=\"#change-detection\">the issue we covered in the last section</a>, but you‚Äôre able to set this flag to <code class=\"language-text\">true</code> to get access to the template reference from within the <code class=\"language-text\">ngOnInit</code> lifecycle method:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">\"my-app\"</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;div>\n\t\t\t&lt;p>Hello?&lt;/p>\n\t\t\t&lt;ng-template #helloThereMsg>\n\t\t\t\tHello There!\n\t\t\t&lt;/ng-template>\n\t\t&lt;/div>\n\t\t&lt;ng-template [ngTemplateOutlet]=\"realMsgVar\">&lt;/ng-template>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span>\n\t@<span class=\"token function\">ViewChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"helloThereMsg\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">static</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> realMsgVar<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-14-static?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>Because this example does not have the <code class=\"language-text\">helloThereMsg</code> template within another view (outside of the host view), it is able to render without the errors we found when using <code class=\"language-text\">static: true</code>). Likewise, if you were to add an <code class=\"language-text\">OnInit</code> lifecycle method, you'd be able to get a reference to that template.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>realMsgVar<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// This would output true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>While you might wonder \"Why would you use <code class=\"language-text\">static: false</code> if you can get the access within the <code class=\"language-text\">ngOnInit</code>\", the answer is fairly similarly: <em>when using <code class=\"language-text\">static: true</code>, the <code class=\"language-text\">ViewChild</code> prop never updates after the initial <code class=\"language-text\">DoCheck</code> lifecycle check</em>. This means that your value will never update from <code class=\"language-text\">undefined</code> when trying to get a reference to a template from within a child view.</p>\n<p>When taking the example with the <code class=\"language-text\">testingMessageCompVar</code> prop and changing the value to <code class=\"language-text\">true</code>, it will never render the other component since it will always stay <code class=\"language-text\">undefined</code>.</p>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-15-static-first-check?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<h1 id=\"view-manipulation\"><a href=\"#view-manipulation\" aria-label=\"view manipulation permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>View Manipulation</h1>\n<h2 id=\"view-limitations\"><a href=\"#view-limitations\" aria-label=\"view limitations permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>View Limitations</h2>\n<p>Having covered views in the last section, it's important to mention an important limitation regarding them:</p>\n<blockquote>\n<p>Properties of elements in a view can change dynamically, in response to user actions; the structure (number and order) of elements in a view can't. You can change the structure of elements by inserting, moving, or removing nested views within their view containers.</p>\n<p>- Angular Docs</p>\n</blockquote>\n<h2 id=\"embed-views\"><a href=\"#embed-views\" aria-label=\"embed views permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Embed Views</h2>\n<p>While we've covered how to insert a component using <code class=\"language-text\">ngTemplate</code>, Angular also allows you to find, reference, modify, and create them yourself in your component/directive logic! ü§Ø</p>\n<p>Let's show an example of how we can render an <code class=\"language-text\">ng-template</code> using TypeScipt component logic:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;ng-template #templ>\n\t\t\t&lt;ul>\n\t\t\t\t&lt;li>List Item 1&lt;/li>\n\t\t\t\t&lt;li>List Item 2&lt;/li>\n\t\t\t&lt;/ul>\n\t\t&lt;/ng-template>\n\t\t&lt;div #viewContainerRef class=\"testing\">\n\t\t&lt;/div>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnInit</span> <span class=\"token punctuation\">{</span>\n\t@<span class=\"token function\">ViewChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'viewContainerRef'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>read<span class=\"token punctuation\">:</span> ViewContainerRef<span class=\"token punctuation\">,</span> <span class=\"token keyword\">static</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> viewContainerRef<span class=\"token punctuation\">;</span>\n\t@<span class=\"token function\">ViewChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'templ'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>read<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token punctuation\">,</span> <span class=\"token keyword\">static</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> templ<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewContainerRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-16-createembeddedview?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>This example has a lot going on, so let's dissect it bit-by-bit.</p>\n<p>Starting with some small recap:</p>\n<ul>\n<li>We're creating a template with the <code class=\"language-text\">ng-template</code> tag and assigning it to a template reference variable <code class=\"language-text\">templ</code></li>\n<li>We're also creating a <code class=\"language-text\">div</code> tag, assigning it to the template reference variable <code class=\"language-text\">viewContainerRef</code></li>\n<li>\n<p>Lastly, <code class=\"language-text\">ViewChild</code> is giving us a reference to the template on the <code class=\"language-text\">templ</code> component class property.</p>\n<ul>\n<li>We're able to mark both of these as <code class=\"language-text\">static: true</code> as neither of them are obfuscated by non-host-view views as parents</li>\n</ul>\n</li>\n</ul>\n<p>Now the new stuff:</p>\n<ul>\n<li>\n<p>We're also using <code class=\"language-text\">ViewChild</code> to assign the template reference variable <code class=\"language-text\">viewContainerRef</code> to a component class property.</p>\n<ul>\n<li>We're using the <code class=\"language-text\">read</code> prop to give it the <a href=\"https://angular.io/api/core/ViewContainerRef\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">ViewContainerRef</code></a> class, which includes some methods to help us create an embedded view.</li>\n</ul>\n</li>\n<li>Then, in the <code class=\"language-text\">ngOnInit</code> lifecycle, we're running the <code class=\"language-text\">createEmbeddedView</code> method present on the <code class=\"language-text\">ViewContainerRef</code> property to create an embedded view based on the template.</li>\n</ul>\n<p>If you take a look at your element debugger, you'll notice that the template is injected as a sibling to the <code class=\"language-text\">.testing</code> div:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!----></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>testing<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>List Item 1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>List Item 2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<blockquote>\n<p>The empty comment <code class=\"language-text\">&lt;!----&gt;</code> will show up in your element tab of your browser and was therefore left in. The empty comment block is used by Angular to showcase where a template is</p>\n</blockquote>\n<p><a href=\"https://github.com/angular/angular/issues/9035\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">While this has confused many developers, who have expected the embedded view to be children of the <code class=\"language-text\">ViewContainer</code> reference element</a>, this is intentional behavior, and is consistent with other APIs similar to it.</p>\n<p>The reason for this is that <em>Angular is creating a <code class=\"language-text\">ViewContainer</code> as the parent of the element when the user queries for one</em>. From there, Angular is \"appending\" the new view into the view container (as a view container is a view itself, and a view cannot have the number of elements in it modified without inserting a new view).</p>\n<p>Why would it make one as a parent rather than the element itself?</p>\n<p>Not all elements accept children inputs, IE: <code class=\"language-text\">&lt;/br&gt;</code>. As a result, the Angular team thought it be best to make the parent the view container when a user queries for one (or uses the dependency injection to get a reference to one, as we are in this example).</p>\n<h3 id=\"See-How-The-View-Is-Tracked\"><a href=\"#See-How-The-View-Is-Tracked\" aria-label=\"See How The View Is Tracked permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>See How The View Is Tracked</h3>\n<p>Because all views are unable to mutate the number of items without explicitly moving, creating, or destroying themselves, the view container is able to track all of the views via index.</p>\n<p>For example, if you wanted to see the index, we could use an API on the view container to get the index of the embedded view. To do this, we'd first need a reference of the embedded view in our template logic.</p>\n<p>Just like how we have <code class=\"language-text\">ViewContainerRef</code>, there's also <a href=\"https://angular.io/api/core/EmbeddedViewRef#embeddedviewref\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">EmbeddedViewRef</code></a>. Luckily, with our previous example, getting that ref is trivial, as it's returned by the <code class=\"language-text\">createEmbeddedView</code> method:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> embeddRef<span class=\"token punctuation\">:</span> EmbeddedViewRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewContainerRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>From there, we can use the <code class=\"language-text\">indexOf</code> method on the parent <code class=\"language-text\">ViewContainerRef</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> embeddIndex <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewContainerRef<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>embeddRef<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>embeddIndex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// This would print `0`.</span>\n<span class=\"token comment\">// Remember that this is a new view container made when we queried for one with DI, which is why this is the only view in it currently</span></code></pre></div>\n<p>The view container keeps track of all of the embedded views in its control, and when you <code class=\"language-text\">createEmbeddedView</code>, it searches for the index to insert the view into.</p>\n<p>You're also able to lookup an embedded view based on the index you're looking for using <code class=\"language-text\">get</code>. So, if you wanted to get all of the indexes being tracked by <code class=\"language-text\">viewContainerRef</code>, you'd do:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewContainerRef<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewContainerRef<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-17-see-viewcontainer-indexes?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<h4 id=\"Context\"><a href=\"#Context\" aria-label=\"Context permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Context</h4>\n<p>Just as we can use <code class=\"language-text\">contextRouterOutlet</code>, you're able to pass context to a template when rendering it using <code class=\"language-text\">createEmbeddedView</code>. So, let's say that you wanted to have a counting component and want to pass a specific index to start counting from, you could pass a context, <a href=\"#template-context\">with the same object structure we did before</a>, have:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> ViewContainerRef<span class=\"token punctuation\">,</span> OnInit<span class=\"token punctuation\">,</span> AfterViewInit<span class=\"token punctuation\">,</span> ContentChild<span class=\"token punctuation\">,</span> ViewChild<span class=\"token punctuation\">,</span> TemplateRef <span class=\"token punctuation\">,</span> EmbeddedViewRef<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t&lt;ng-template #templ let-i>\n\t\t\t\t&lt;li>List Item {{i}}&lt;/li>\n\t\t\t\t&lt;li>List Item {{i + 1}}&lt;/li>\n\t\t&lt;/ng-template>\n\t\t&lt;ul>\n\t\t\t&lt;div #viewContainerRef>&lt;/div>\n\t\t&lt;/ul>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnInit</span> <span class=\"token punctuation\">{</span>\n\t@<span class=\"token function\">ViewChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'viewContainerRef'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>read<span class=\"token punctuation\">:</span> ViewContainerRef<span class=\"token punctuation\">,</span> <span class=\"token keyword\">static</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> viewContainerRef<span class=\"token punctuation\">;</span>\n\t@<span class=\"token function\">ViewChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'templ'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>read<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token punctuation\">,</span> <span class=\"token keyword\">static</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> templ<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">const</span> embeddRef3<span class=\"token punctuation\">:</span> EmbeddedViewRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewContainerRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>$implicit<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">const</span> embeddRef1<span class=\"token punctuation\">:</span> EmbeddedViewRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewContainerRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>$implicit<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>In this example, because we want to have an unordered list with list elements being created using embedded views, we're getting a <code class=\"language-text\">ViewContainerRef</code> directly from inside the unordered list.\nBut you'll notice a problem with doing this if you open up your inspector (or even just by reading the code):\nThere's now a <code class=\"language-text\">div</code> at the start of your list.</p>\n<p>To get around this, we can use the <code class=\"language-text\">ng-container</code> tag, which allows us to get a view reference without injecting a DOM element into the fray. <em><code class=\"language-text\">ng-container</code> can also be used to group elements without using a DOM element</em>, similar to how <a href=\"https://reactjs.org/docs/fragments.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">React Fragments</a> work in that ecosystem.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-container</span> <span class=\"token attr-name\">#viewContainerRef</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-container</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-18-create-embedd-context?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<h4 id=\"MoveInsert-Template\"><a href=\"#MoveInsert-Template\" aria-label=\"MoveInsert Template permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Move/Insert Template</h4>\n<p>But oh no! You'll see that the ordering is off. The simplest (and probably most obvious) solution would be to flip the order of the calls. After all, if they're based on index ‚Äî moving the two calls to be in the opposite order would just fix the problem.</p>\n<p>But this is a blog post, and I needed a contrived example to showcase how we can move views programmatically:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> newViewIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewContainerRef<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span>embeddRef1<span class=\"token punctuation\">,</span> newViewIndex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// This will move this view to index 1, and shift every index greater than or equal to 0 up by 1</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-19-move-template?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>Angular provides many APIs to take an existing view and move it and modify it without having to create a new one and run change detection/etc again.</p>\n<p>If you're wanting to try out a different API and feel that <code class=\"language-text\">createEmbeddedView</code> is a little too high-level for you (we need to go deeper), you can create a view from a template and then embed it yourself manually.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">const</span> viewRef1 <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> $implicit<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewContainerRef<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>viewRef1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> viewRef3 <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> $implicit<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewContainerRef<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>viewRef3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-20-insert-template?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p><a href=\"https://github.com/angular/angular/blob/e1f6d1538784eb87f7497bef27e3c313184c2d30/packages/core/src/view/refs.ts#L174\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">And in fact, this is how the <code class=\"language-text\">createEmbeddedView</code> works internally</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// Source code directly from Angular as of 8.0.1</span>\ncreateEmbeddedView<span class=\"token operator\">&lt;</span><span class=\"token constant\">C</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>templateRef<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">C</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> context<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> <span class=\"token constant\">C</span><span class=\"token punctuation\">,</span> index<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\nEmbeddedViewRef<span class=\"token operator\">&lt;</span><span class=\"token constant\">C</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">const</span> viewRef <span class=\"token operator\">=</span> templateRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span>context <span class=\"token operator\">||</span> <span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>viewRef<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">return</span> viewRef<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"directives\"><a href=\"#directives\" aria-label=\"directives permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Accessing Templates from a Directive</h1>\n<p>Thus far, we've only used components to change and manipulate templates. However, <a href=\"#components-are-directives\">as we've covered before, directives and components are the same under-the-hood</a>. As a result, <em>we have the ability to manipulate templates in the same way using directives rather than components</em>. Let's see what that might look like:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[renderTheTemplate]'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RenderTheTemplateDirective</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnInit</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> parentViewRef<span class=\"token punctuation\">:</span> ViewContainerRef</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t@<span class=\"token function\">ContentChild</span><span class=\"token punctuation\">(</span>TemplateRef<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">static</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> templ<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;div renderTheTemplate>\n\t\t\t&lt;ng-template>\n\t\t\t\t\t&lt;p>Hello&lt;/p>\n\t\t\t&lt;/ng-template>\n\t\t&lt;/div>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-21-directive-template?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>You'll notice this code is almost exactly the same from some of our previous component code.</p>\n<h2 id=\"directive-template-ref\"><a href=\"#directive-template-ref\" aria-label=\"directive template ref permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Reference More Than View Containers</h2>\n<p>However, the lack of a template associated with the directive enables some fun stuff, for example, <em>we can use the same dependency injection trick we've been using to get the view container reference</em> to get a reference to the template element that the directive is attached to and render it in the <code class=\"language-text\">ngOnInit</code> method like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[renderTheTemplate]'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RenderTheTemplateDirective</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnInit</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> parentViewRef<span class=\"token punctuation\">:</span> ViewContainerRef<span class=\"token punctuation\">,</span> <span class=\"token keyword\">private</span> templToRender<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n\t<span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templToRender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;ng-template renderTheTemplate>\n\t\t\t\t&lt;p>Hello&lt;/p>\n\t\t&lt;/ng-template>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-22-directive-template-reference?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<h2 id=\"directive-same-name-input\"><a href=\"#directive-same-name-input\" aria-label=\"directive same name input permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Input Shorthand</h2>\n<p>With directives, we can even create an input with the same name, and just pass that input value directly to the template using a context:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[renderTheTemplate]'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RenderTheTemplateDirective</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnInit</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> parentViewRef<span class=\"token punctuation\">:</span> ViewContainerRef<span class=\"token punctuation\">,</span> <span class=\"token keyword\">private</span> templToRender<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> renderTheTemplate<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templToRender<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>$implicit<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderTheTemplate<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;ng-template [renderTheTemplate]=\"'Hi there!'\" let-message>\n\t\t\t\t&lt;p>{{message}}&lt;/p>\n\t\t&lt;/ng-template>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>I want to make clear that this trick is present in all directives. If you name the input the same as the directive name, it will bind the value you're passing in to that directive name while also associating the directive with the component. No need for a separate input and directive name!</p>\n</blockquote>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-23-directive-input-name?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>Starting to look a bit more like the <code class=\"language-text\">ngTemplateOutlet</code>, no? Well, why not go even further! Let's lean into that!\nWith this syntax, we can add a second input, pass an object as the context to the template we want to render, and then a template reference variable, and be able to recreate Angular's <code class=\"language-text\">ngTemplateOutlet</code>'s API almost to-a-T:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[renderTheTemplate]'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RenderTheTemplateDirective</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnInit</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> parentViewRef<span class=\"token punctuation\">:</span> ViewContainerRef</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> renderTheTemplate<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> renderTheTemplateContext<span class=\"token punctuation\">:</span> Object<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderTheTemplate<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderTheTemplateContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;ng-template [renderTheTemplate]=\"template1\"\n\t\t\t\t\t\t\t\t[renderTheTemplateContext]=\"{$implicit: 'Whoa ü§Ø'}\">&lt;/ng-template>\n\t\t&lt;ng-template #template1 let-message>\n\t\t\t\t&lt;p>Testing from &lt;code>template1&lt;/code>: &lt;b>{{message}}&lt;/b>&lt;/p>\n\t\t&lt;/ng-template>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-24-directive-outlet-alternative?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>The nice part is that not only does it look like the directive from its usage, <a href=\"https://github.com/angular/angular/blob/e1f6d1538784eb87f7497bef27e3c313184c2d30/packages/common/src/directives/ng_template_outlet.ts#L35\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">but it's also not entirely dissimilar to how Angular writes the component internally</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// This is Angular source code as of 8.0.1 with some lines removed (but none modified otherwise).</span>\n<span class=\"token comment\">// The lines removed were some performance optimizations by comparing the previous view to the new one</span>\n@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>selector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[ngTemplateOutlet]'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NgTemplateOutlet</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnChanges</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">private</span> _viewRef<span class=\"token punctuation\">:</span> EmbeddedViewRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token operator\">|</span><span class=\"token keyword\">null</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> ngTemplateOutletContext<span class=\"token punctuation\">:</span> Object<span class=\"token operator\">|</span><span class=\"token keyword\">null</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> ngTemplateOutlet<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token operator\">|</span><span class=\"token keyword\">null</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> _viewContainerRef<span class=\"token punctuation\">:</span> ViewContainerRef</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n\t<span class=\"token function\">ngOnChanges</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">changes<span class=\"token punctuation\">:</span> SimpleChanges</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_viewRef<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_viewContainerRef<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_viewContainerRef<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_viewRef<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>ngTemplateOutlet<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_viewRef <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_viewContainerRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span>\n\t\t\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>ngTemplateOutlet<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>ngTemplateOutletContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"structural-directives\"><a href=\"#structural-directives\" aria-label=\"structural directives permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Structural Directives ‚Äî What Sorcery is this?</h1>\n<p>If you've used Angular in any scale of application, you've ran into Angular helpers that look a lot like directives and start with a <code class=\"language-text\">*</code> such as <code class=\"language-text\">*ngIf</code> and <code class=\"language-text\">*ngFor</code>. These helpers are known as <strong>structural directives</strong> and are built upon all of the things we've learned to this point.</p>\n<p>The main idea behind structural directives is that <strong>they're directives that will wrap the tag that you've applied it to inside of a template without the need for an <code class=\"language-text\">ng-template</code> tag</strong>.</p>\n<p>Let's look at a basic sample to start:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[renderThis]'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RenderThisDirective</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnInit</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> templ<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token keyword\">private</span> parentViewRef<span class=\"token punctuation\">:</span> ViewContainerRef</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t\t&lt;p *renderThis>\n\t\t\t\t\tRendering from &lt;code>structural directive&lt;/code>\n\t\t\t&lt;/p>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-25-structural-directive-intro?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p><a href=\"#embed-views\">Just as we previously used Angular's dependency injection (DI) system to get a reference to the <code class=\"language-text\">ViewContainerRef</code></a>, we're using DI to get a reference to the <code class=\"language-text\">TemplateRef</code> created by the <code class=\"language-text\">*</code> in the invocation of this directive and embedding a view.</p>\n<p>Too much CS (computer science) speak? Me too, let's rephrase that. When you add the <code class=\"language-text\">*</code> to the start of the directive that's being attached to the element, you're essentially telling Angular to wrap that element in an <code class=\"language-text\">ng-template</code> and pass the directive to the newly created template.</p>\n<p>From there, the directive can get a reference to that template from the constructor (as Angular is nice enough to pass the template to our directive when we ask for it [this is what the DI system does]).</p>\n<p>The cool part about structural directives, though? Because they're simply directives, <strong>you can remove the <code class=\"language-text\">*</code> and use it with an <code class=\"language-text\">ng-template</code> directly</strong>. Want to use the <code class=\"language-text\">renderThis</code> without a structural directive? No problem! Replace the template with the following code block and you've got yourself a rendered template:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">renderThis</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n\t\tRendering from <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>code</span><span class=\"token punctuation\">></span></span>ng-template<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>code</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-26-structural-directive-manually-apply?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>It is for this reason that <strong>only one structural directive can be applied to one element</strong>. Otherwise, how would it know what order to wrap those directives in? What template should get what reference to what template?</p>\n<h3 id=\"Building-A-Basic-ngIf\"><a href=\"#Building-A-Basic-ngIf\" aria-label=\"Building A Basic ngIf permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Building A Basic <code class=\"language-text\">*ngIf</code></h3>\n<p>But rendering a template without changing it in any way isn't a very useful structural directive. Remove that structural directive and your code has exactly the same behavior. However, Angular provides something not-altogether-different from what we started on as a useful utility to hide/show a view based on a boolean's truthiness: <code class=\"language-text\">ngIf</code>.</p>\n<p>So if we added an input with the same name as the directive (<a href=\"#directive-same-name-input\">as we did previously</a>) to accept a value to check the truthiness of, added an <code class=\"language-text\">if</code> statement to render only if the value is true, we have ourselves the start of an <code class=\"language-text\">ngIf</code> replacement that we've built ourselves!</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[renderThisIf]'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RenderThisIfDirective</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnInit</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> templ<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token keyword\">private</span> parentViewRef<span class=\"token punctuation\">:</span> ViewContainerRef</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> renderThisIf<span class=\"token punctuation\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// `any` since we want to check truthiness, not just boolean `true` or `false`</span>\n\n\t<span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderThisIf<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;label for=\"boolToggle\">Toggle me!&lt;/label>\n\t\t&lt;input id=\"boolToggle\" type=\"checkbox\" [(ngModel)]=\"bool\"/>\n\t\t&lt;div *renderThisIf=\"bool\">\n\t\t\t&lt;p>Test&lt;/p>\n\t\t&lt;/div>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span>\n\tbool <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-27-render-if-intro?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>Super cool! Image we kept developing this structural directive out, but you noticed while running your test (which you should totally have üëÄ) that toggling the checkbox doesn't actually show anything! This is because it's running the check once on <code class=\"language-text\">ngOnInit</code> and not again when the input changes. So let's change that:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[renderThisIf]'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RenderThisIfDirective</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> templ<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token keyword\">private</span> parentViewRef<span class=\"token punctuation\">:</span> ViewContainerRef</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">private</span> _val<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">set</span> <span class=\"token function\">renderThisIf</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">val<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_val <span class=\"token operator\">=</span> val<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_val<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-28-render-if-work-toggle-true?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>You'll notice that I removed the <code class=\"language-text\">OnInit</code> lifecycle and replaced it with an input <code class=\"language-text\">set</code>ter. We could have changed the lifecycle method to use <code class=\"language-text\">ngOnChanges</code> to listen for input changes, given that we only have one input, but as your directive adds more inputs and you want to maintain the local state, that logic can get more complex.</p>\n<p>Running our tests again, we see that toggling it once now shows the embedded view, but toggling it again after that does not hide it again. With a simple update to the <code class=\"language-text\">update</code> method, we can fix that:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_val<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-29-render-if-fully-working?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>Here, we're using the <code class=\"language-text\">clear</code> method on the parent view ref to remove the previous view when the value is false. Because our structural directive will contain a template only used for this directive, we can safely assume that <code class=\"language-text\">clear</code> will only remove templates created within this directive and not from an external source.</p>\n<h4 id=\"angular-ngif-source\"><a href=\"#angular-ngif-source\" aria-label=\"angular ngif source permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>How Angular Built It</h4>\n<p>While Angular goes for a more verbose pattern due to additional features available in their structural directive, the implementation is not too different from our own.</p>\n<p><a href=\"https://github.com/angular/angular/blob/e1f6d1538784eb87f7497bef27e3c313184c2d30/packages/common/src/directives/ng_if.ts#L151\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The following is the Angular source code for that directive</a>. To make it easier to explain with our current set of knowledge, there have been lines of code removed and a single conditional modified in a very minor way. Outside of these changes, this is largely unchanged.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>selector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[ngIf]'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NgIf</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">private</span> _context<span class=\"token punctuation\">:</span> NgIfContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NgIfContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">private</span> _thenTemplateRef<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span>NgIfContext<span class=\"token operator\">></span><span class=\"token operator\">|</span><span class=\"token keyword\">null</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">private</span> _thenViewRef<span class=\"token punctuation\">:</span> EmbeddedViewRef<span class=\"token operator\">&lt;</span>NgIfContext<span class=\"token operator\">></span><span class=\"token operator\">|</span><span class=\"token keyword\">null</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> _viewContainer<span class=\"token punctuation\">:</span> ViewContainerRef<span class=\"token punctuation\">,</span> templateRef<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span>NgIfContext<span class=\"token operator\">></span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_thenTemplateRef <span class=\"token operator\">=</span> templateRef<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">set</span> <span class=\"token function\">ngIf</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">condition<span class=\"token punctuation\">:</span> <span class=\"token builtin\">any</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_context<span class=\"token punctuation\">.</span>$implicit <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_context<span class=\"token punctuation\">.</span>ngIf <span class=\"token operator\">=</span> condition<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">_updateView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">private</span> <span class=\"token function\">_updateView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_context<span class=\"token punctuation\">.</span>$implicit<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_thenViewRef<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_viewContainer<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_thenTemplateRef<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_thenViewRef <span class=\"token operator\">=</span>\n\t\t\t\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_viewContainer<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_thenTemplateRef<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_viewContainer<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NgIfContext</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">public</span> $implicit<span class=\"token punctuation\">:</span> <span class=\"token builtin\">any</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">public</span> ngIf<span class=\"token punctuation\">:</span> <span class=\"token builtin\">any</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Just to recap, let's run through this line-by-line:</p>\n<ol>\n<li>\n<p><code class=\"language-text\">_context</code> is creating a default of <code class=\"language-text\">{$implicit: null, ngIf: null}</code></p>\n<ul>\n<li>The object shape is defined by the <code class=\"language-text\">NgIfContext</code> class below</li>\n<li>This is to be able to pass as a context to the template. While this is not required to understand how Angular implemented this directive in basic terms, it was left in to avoid editing code elsewhere</li>\n</ul>\n</li>\n<li>We're then defining a variable to keep track of the template reference and the view reference (<a href=\"https://angular.io/api/core/EmbeddedViewRef\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">what <code class=\"language-text\">createEmbeddedView</code> returns</a>) for usage later</li>\n<li>The constructor is then assigning the template reference to the variable, and getting a reference to the view container</li>\n<li>\n<p>We're then defining an input with the same name as a setter, as we did with our implementation</p>\n<ul>\n<li>This setter is also calling an update function, just as were with our implementation</li>\n</ul>\n</li>\n<li>The update view is then seeing if the <code class=\"language-text\">$implicit</code> value in the context is truthy (as we're assigning the value of the <code class=\"language-text\">ngIf</code> input to the <code class=\"language-text\">$implicit</code> key on the context)</li>\n<li>\n<p>Further checks are made to see if there is a view reference already.</p>\n<ul>\n<li>If there is not, it will proceed to make one (checking first that there is a template to create off of)</li>\n<li>If there is, it will not recreate a view, in order to avoid performance issues by recreating views over-and-over again</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"Microsyntax\"><a href=\"#Microsyntax\" aria-label=\"Microsyntax permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Microsyntax</h2>\n<p>Alright, we've made it thus far! The following section is going to be kinda a doozy so if you're feeling tired, a nap is certainly in order. üò¥ üõå Otherwise, let's get up ‚Äî do a little shoulder shimmy to get ourselves moving for a bit üèã (I'm totally not just writing this for my future self who's gonna be editing this, noooope üò¨), and dive in.</p>\n<h3 id=\"Bind-Context\"><a href=\"#Bind-Context\" aria-label=\"Bind Context permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Bind Context</h3>\n<p>Just as Angular parses the rest of the template you pass in to be able to convert your custom Angular components into template tags, <strong>Angular also provides a small language-like syntax into its own query system</strong>. This syntax is referred to as a \"microsyntax\" by the Angular devs. <em>This syntax is able to let the user create specific APIs that tie into this syntax and call/leverage specific parts of their code</em>. Sound vague? I think so too, let's look at a fairly minimal example:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">translatePigLatin</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">strr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// See the code here: https://www.freecodecamp.org/forum/t/freecodecamp-algorithm-challenge-guide-pig-latin/16039/7</span>\n<span class=\"token punctuation\">}</span>\n\n@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[makePiglatin]'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MakePigLatinDirective</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> templ<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token keyword\">private</span> parentViewRef<span class=\"token punctuation\">:</span> ViewContainerRef</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">set</span> <span class=\"token function\">makePiglatin</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">val<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t\t\t$implicit<span class=\"token punctuation\">:</span> <span class=\"token function\">translatePigLatin</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;p *makePiglatin=\"'This is a string'; let msg\">\n\t\t\t{{msg}}\n\t\t&lt;/p>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-30-microsyntax?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>This might look familiar. We're using the <code class=\"language-text\">$implicit</code> value from the context within our structural directive! However, <a href=\"#template-context\">if you review the section we introduced that concept in</a>, you'll notice that the syntax here is different but similar from a template variable that would be used to bind the context from an <code class=\"language-text\">ng-template</code> tag.</p>\n<p>The semicolon is the primary differentiator between the two syntaxes in this particular example. The semicolon marks the end to the previous statement and the start of a new one (the first statement being a binding of the <code class=\"language-text\">makePiglatin</code> property in the directive, the second being a binding of the <code class=\"language-text\">$implicit</code> context value to the local template variable <code class=\"language-text\">msg</code>). This small demo already showcases part of why the microsyntax is so nice ‚Äî it allows you to have a micro-language to define your APIs.</p>\n<p>Let's continue exploring how leveraging this tool can be advantageous. What if we wanted to export more than a single value in the context? How would we bind those named values?</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[makePiglatin]'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MakePigLatinDirective</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> templ<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token keyword\">private</span> parentViewRef<span class=\"token punctuation\">:</span> ViewContainerRef</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">set</span> <span class=\"token function\">makePiglatin</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">val<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t\t\t$implicit<span class=\"token punctuation\">:</span> <span class=\"token function\">translatePigLatin</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\t\toriginal<span class=\"token punctuation\">:</span> val\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;p *makePiglatin=\"'This is a string'; let msg; let ogMsg = original\">\n\t\t\tThe message \"{{msg}}\" is \"{{ogMsg}}\" in üê∑ Latin\n\t\t&lt;/p>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-31-structural-named-context?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>Just as before, we would use semicolons to split the definitions, then bind the external (as in: from the directive) context value of <code class=\"language-text\">original</code> to the local (this template) variable of <code class=\"language-text\">ogMsg</code>.</p>\n<h3 id=\"Additional-Attribute-Inputs\"><a href=\"#Additional-Attribute-Inputs\" aria-label=\"Additional Attribute Inputs permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Additional Attribute Inputs</h3>\n<p>With a typical ‚Äî non-structural ‚Äî directive, you'd have inputs that you could add to your directive. For example, you could have a directive with the following inputs:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[consoleThing]'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ConsoleThingDirective</span> <span class=\"token punctuation\">{</span>\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">set</span> <span class=\"token function\">consoleThing</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">val<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>warn<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">return</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> warn<span class=\"token punctuation\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And then call them with the following template:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">[consoleThing]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>This is a warning from the üëª of code future, refactor this please'<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">[warn]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-32-console-non-structural-directive?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>This can be super useful for both providing concise APIs as well as provide further functionalities to said directive simply. Structural directives offer similar, although it comes with its own syntax and limitations due to the microsyntax API.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[makePiglatin]'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MakePigLatinDirective</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnInit</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> templ<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token keyword\">private</span> parentViewRef<span class=\"token punctuation\">:</span> ViewContainerRef</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> makePiglatin<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> makePiglatinCasing<span class=\"token punctuation\">:</span> <span class=\"token string\">'UPPER'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'lower'</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">let</span> pigLatinVal <span class=\"token operator\">=</span> <span class=\"token function\">translatePigLatin</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>makePiglatin<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>makePiglatinCasing <span class=\"token operator\">===</span> <span class=\"token string\">'UPPER'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\tpigLatinVal <span class=\"token operator\">=</span> pigLatinVal<span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>makePiglatinCasing <span class=\"token operator\">===</span> <span class=\"token string\">'lower'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\tpigLatinVal <span class=\"token operator\">=</span> pigLatinVal<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t\t\t$implicit<span class=\"token punctuation\">:</span> pigLatinVal<span class=\"token punctuation\">,</span>\n\t\t\toriginal<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>makePiglatin\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;p *makePiglatin=\"'This is a string'; casing: 'UPPER'; let msg; let ogMsg = original\">\n\t\t\tThe message \"{{msg}}\" is \"{{ogMsg}}\" in üê∑ Latin\n\t\t&lt;/p>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-33-pig-latin-microsyntax?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>You can see that I've had to tweak our previous pig latin directive example a bit.</p>\n<p>For starters, I moved away from a <code class=\"language-text\">set</code>ter for the input value and towards <code class=\"language-text\">ngOnInit</code>, just to ensure that everything was defined in the right timing.</p>\n<p>I'm also binding the value \"upper\" to <code class=\"language-text\">makePiglatinCasing</code> by adding <code class=\"language-text\">casing: &#39;UPPER&#39;</code> to the input to the structural directive and then separating it by <code class=\"language-text\">;</code>.</p>\n<p>The magic in the syntax comes from that input name. I know in previous examples I've mentioned when things were similarly named only for readability purposes and not because the syntax demands such ‚Äî this is not one of those times. <strong>The microsyntax is taking the <code class=\"language-text\">casing</code> binding from the input, making the first letter uppercase, then prepending it to the template selector to get the name of the <code class=\"language-text\">@Input</code> directive property to pass that value to.</strong></p>\n<p><strong>This is why we usually call the directive selector the structural directive prefix ‚Äî it should prefix the names of any of your microsyntax inputs</strong>. Outside of the prefix rule, there's little else that you'll need to keep in mind with these input names. Want to make it <code class=\"language-text\">makePiglatinCasingThingHere</code>? No problem, just change that part of the input syntax to read <code class=\"language-text\">casingThingHere: &#39;upper&#39;</code></p>\n<h4 id=\"Why-not-bind-like-a-typical-input\"><a href=\"#Why-not-bind-like-a-typical-input\" aria-label=\"Why not bind like a typical input permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Why not bind like a typical input?</h4>\n<p>Now, I remember when I was learning a lot of the structural directive stuff, I thought \"well this syntax is cool, but it might be a bit ambiguous\". I decided I was going to change that a bit:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePiglatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>This is a string'; let msg; let ogMsg = original<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">[makePiglatinCasing]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>UPPER'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\tThe message \"{{msg}}\" is \"{{ogMsg}}\" in üê∑ Latin\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-34-pig-latin-non-binding?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>I was not, however, greeted by praises on my PR making this change, but rather by an error in my console:</p>\n<blockquote>\n<p>Can't bind to <code class=\"language-text\">makePiglatinCasing</code> since it isn't a known property of <code class=\"language-text\">p</code></p>\n</blockquote>\n<p>This may seem strange upon first glance, but remember: <strong>the structural directive wraps the tag it is on the inside of a template</strong>. Because of this, <em>the <code class=\"language-text\">makePiglatinCasing</code> input is not set to the directive anymore, but rather on the <code class=\"language-text\">p</code> element inside the template created by the structural directive</em>.</p>\n<p>This becomes more apparent when you expand the syntax to look something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">makePiglatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>This is a string'; let msg; let ogMsg = original<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">[makePiglatinCasing]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>UPPER'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\tThe message \"{{msg}}\" is \"{{ogMsg}}\" in üê∑ Latin\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3 id=\"Bind-as-you-would--Theyre-JUST-directives\"><a href=\"#Bind-as-you-would--Theyre-JUST-directives\" aria-label=\"Bind as you would  Theyre JUST directives permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Bind as you would ‚Äî They're JUST directives!</h3>\n<p>But, of course, because structural directives are just normal directives under-the-hood, you can use the same directive code you'd expect to, even with some of the binding syntaxes.</p>\n<p>So if we did want to take the non-functional example above and fix it to not use structural directives, we could do so:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ng-template</span> <span class=\"token attr-name\">[makePiglatin]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>This is a string'<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">[makePiglatinCasing]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>UPPER'<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">let-msg</span> <span class=\"token attr-name\">let-ogMsg</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>original<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>The message \"{{msg}}\" is \"{{ogMsg}}\" in üê∑ Latin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ng-template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-35-pig-latin-normal-directive?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<h3 id=\"as-to-preserve-values-in-template-variable\"><a href=\"#as-to-preserve-values-in-template-variable\" aria-label=\"as to preserve values in template variable permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a><code class=\"language-text\">as</code> to preserve values in template variable</h3>\n<p>One of my favorite tools at the microsyntax's disposal is the <code class=\"language-text\">as</code> keyword. On paper, it sounds extremely straightforward and duplicative of the <code class=\"language-text\">let</code> keyword:\nIt saves the context output of a specific value as a template variable.</p>\n<p>If it sounds duplicative with that description, that's because it can absolutely be used in the same ways:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- These do exactly the same things --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePiglatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>let msg casing 'UPPER'; original as ogMsg<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePiglatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>let msg casing 'UPPER'; let ogMsg = original<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Because <code class=\"language-text\">original</code> is being exported by the <code class=\"language-text\">makePiglatin</code> context, you can save the value to a template variable <code class=\"language-text\">ogMsg</code>.</p>\n<p>But this example doesn't showcase very much of what makes the <code class=\"language-text\">as</code> keyword as powerful as it is: <em>You can preserve the initial value passed to an input</em>. This can be used to significant effect when passing in complex expressions, such as piped values (in this example, the <a href=\"https://angular.io/api/common/UpperCasePipe\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">uppercase pipe</a>):</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;p *ngIf=\"message | uppercase as uppermessage\">{{uppermessage}}&lt;/p>\n\t\t&lt;!-- Will output \"HELLO THERE, WORLD\" -->\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span>\n\tmessage <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello there, world\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-36-as-keyword?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>While this example can be seen clearly with this usage of <code class=\"language-text\">ngIf</code> , let's try to add it into our <code class=\"language-text\">pigLatin</code> example:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePiglatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>test'; let msg; casing 'upper' | uppercase as upperInUpper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{upperInUpper}}: {{msg}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-37-pig-latin-as-keyword-broken?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>In this example, we're expecting <code class=\"language-text\">&#39;upper&#39;</code> to be turned into <code class=\"language-text\">&#39;UPPER&#39;</code> by the <code class=\"language-text\">uppercase</code> pipe, then to be passed as the input to <code class=\"language-text\">makePiglatinCasing</code> and for the <code class=\"language-text\">$implicit</code> value of that context to be assigned to a local variable <code class=\"language-text\">msg</code>. If you load this, you'll noticed that the uppercased pig lattin displays as expected but the <code class=\"language-text\">upperInUpper</code> variable (which we expected to be <code class=\"language-text\">&#39;UPPER&#39;</code>) is undefined.</p>\n<p>The reason is because we're not exporting a key of <code class=\"language-text\">makePiglatinCasing</code> in our context to supply this value.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentViewRef<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>templ<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t$implicit<span class=\"token punctuation\">:</span> pigLatinVal<span class=\"token punctuation\">,</span>\n\toriginal<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>makePiglatin<span class=\"token punctuation\">,</span>\n\tmakePiglatinCasing<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>makePiglatinCasing\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-38-pig-latin-as-keyword?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>Now that we're exporting the output with the <code class=\"language-text\">as</code>, it should show on-screen as expected. So why is this? <strong>Well, <code class=\"language-text\">as</code> exports the outputted value that it's bound to.</strong> In this case, we're binding the value to <code class=\"language-text\">casing</code> (because that's what <code class=\"language-text\">&#39;upper&#39;</code> is being passed as an input to).</p>\n<p>Of course, this means that you can send any value as the context. Change the code to read:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token punctuation\">{</span>\n\t\t\t$implicit<span class=\"token punctuation\">:</span> pigLatinVal<span class=\"token punctuation\">,</span>\noriginal<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>makePiglatin<span class=\"token punctuation\">,</span>\nmakePiglatinCasing<span class=\"token punctuation\">:</span> <span class=\"token string\">'See? Any value'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And the DOM would now show:</p>\n<blockquote>\n<p>See? Any value: ISTHAY ISWAY AWAY ESTTAY</p>\n</blockquote>\n<h4 id=\"But-it-worked-in-ngIf\"><a href=\"#But-it-worked-in-ngIf\" aria-label=\"But it worked in ngIf permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>But it worked in <code class=\"language-text\">ngIf</code></h4>\n<p>And this is true, but only because the Angular devs were kind enough to make this syntax approachable without having to understand the inner-workings of it before using it.</p>\n<p>If we <a href=\"#angular-ngif-source\">go back to the original section where we showed <code class=\"language-text\">ngIf</code> code from the Angular syntax</a>, you can see they're using the same trick to provide the <code class=\"language-text\">as</code> value for a call to <code class=\"language-text\">ngIf</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_context<span class=\"token punctuation\">.</span>$implicit <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_context<span class=\"token punctuation\">.</span>ngIf <span class=\"token operator\">=</span> condition<span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"microsyntax-rules\"><a href=\"#microsyntax-rules\" aria-label=\"microsyntax rules permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Syntax Rules</h2>\n<p>Thus far, I've been doing my best to keep the examples using a fairly consistent microsyntax. Because of this, you might think that you must use <code class=\"language-text\">;</code> to separate the calls, you need to have things in a certain order, or that there might be more rules you don't yet understand about how to use the syntax. This is not the case ‚Äî the syntax is fairly loose, actually, although it can be hard to understand.</p>\n<h3 id=\"microsyntax-parts\"><a href=\"#microsyntax-parts\" aria-label=\"microsyntax parts permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Parts Make Up The Whole</h3>\n<p>The rules behind microsyntax can seem overwhelming, so let's take a look at each part on their own before coming them together.</p>\n<p>Angular's microsyntax has 4 building blocks, that when combined in a particular way, make up the entire microsyntax API. These building blocks are:</p>\n<ul>\n<li>Expressions</li>\n<li>The <code class=\"language-text\">as</code> keyword</li>\n<li>Keyed expressions</li>\n<li><code class=\"language-text\">let</code> bindings</li>\n</ul>\n<p><img src=\"./microsyntax.svg\" alt=\"A chart taking a microsyntax and turning it into a diagram. This diagram will be explained thoroughly via text in this section\" title=\"A diagram showing the different parts of the microsyntax\"></p>\n<h4 id=\"microsyntax-explain-expressions\"><a href=\"#microsyntax-explain-expressions\" aria-label=\"microsyntax explain expressions permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Expressions</h4>\n<p>The way I describe expressions in simple terms is \"anything that, when referenced, returns a value\". Like the example above, it could mean using an operator (<code class=\"language-text\">5 + 3</code>), calling a function (<code class=\"language-text\">Math.random()</code>), a variable (assuming <code class=\"language-text\">const numberHere = 12</code>, <code class=\"language-text\">numberHere</code>) or just a value itself (<code class=\"language-text\">&#39;a string here&#39;</code>).</p>\n<p>While \"what is and isn‚Äôt an expression in JavaScript\" could be its own post, suffice it to say that if you‚Äôre able to pass a piece of code to a function as an argument ‚Äî it‚Äôs an expression.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- This code is not super useful in the real-world, --></span>\n<span class=\"token comment\">&lt;!-- but is used To demonstrate the correct syntaxes --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>This is an expression'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>So is this' | uppercase<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>So is ' + ' this'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>varsToo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>functionsAsWell()<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h4 id=\"microsyntax-explain-as\"><a href=\"#microsyntax-explain-as\" aria-label=\"microsyntax explain as permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>The <code class=\"language-text\">as</code> keyword</h4>\n<p>The rules behind the <code class=\"language-text\">as</code> keyword as an alternative to <code class=\"language-text\">let</code> are fairly straightforward:</p>\n<ul>\n<li>You <strong>start with the name of the exported key</strong> from the context</li>\n<li>Then, you <strong>use the name you want to save the value to</strong> (as a template input variable)</li>\n</ul>\n<p>So, if you had the context as <code class=\"language-text\">{personName: &#39;Corbin&#39;, personInterests: [&#39;programming&#39;]}</code>, and wanted to save the value from <code class=\"language-text\">personInterests</code> to a template input variable <code class=\"language-text\">interestList</code>, you could use: <code class=\"language-text\">personInterests as interestList</code>.</p>\n<h4 id=\"microsyntax-explain-keyexp\"><a href=\"#microsyntax-explain-keyexp\" aria-label=\"microsyntax explain keyexp permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a><code class=\"language-text\">keyExp</code> ‚Äî Key Expressions</h4>\n<p>A key expression is simply an expression that you‚Äôre able to bind to an input on a structural directive.</p>\n<ul>\n<li>You <strong>start with the <code class=\"language-text\">key</code> you‚Äôd like to bind to</strong> the input that is prefixed with the directive selector (so <code class=\"language-text\">[ngIf]</code>‚Äôs <code class=\"language-text\">then</code> key would map to the <code class=\"language-text\">ngIfThen</code> input)</li>\n<li>Then, you <strong>optionally can place a colon</strong> (having it or not does not affect the behavior in any way)</li>\n<li>You‚Äôll then want to <strong>place an expression that will be passed as the input value</strong> for the <code class=\"language-text\">key</code> you started the key expression with</li>\n<li>Finally, <em>if you‚Äôd like to save the input value</em>, you‚Äôre able to <strong>use the <code class=\"language-text\">as</code> keyword</strong>, followed by the name you‚Äôd like to save the input value to (as a template input variable)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>inputKey: 'This is an expression' as localVar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>inputKey: 'This is an expression'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>inputKey 'This is an expression' as localVar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>inputKey 'This is an expression'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h4 id=\"microsyntax-explain-let\"><a href=\"#microsyntax-explain-let\" aria-label=\"microsyntax explain let permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a><code class=\"language-text\">let</code> bindings</h4>\n<p>The <code class=\"language-text\">let</code> binding:</p>\n<ul>\n<li>Starts with a <code class=\"language-text\">let</code> preserved keyword</li>\n<li>Then lists the template input variable to save the value to</li>\n<li>\n<p>You‚Äôll then want to put the key of the context you want to save a value of after a <code class=\"language-text\">=</code> operator</p>\n<ul>\n<li>It‚Äôs worth mentioning that this is optional. This is because of the <code class=\"language-text\">$implicit</code> key in context.\nEG: a context of <code class=\"language-text\">{$implicit: 1, namedKey: 900}</code> and <code class=\"language-text\">let smallNum; let largerNum = namedKey</code> would assign <code class=\"language-text\">1</code> to <code class=\"language-text\">smallNum</code> and <code class=\"language-text\">900</code> to <code class=\"language-text\">largerNum</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Combining-Them-Together\"><a href=\"#Combining-Them-Together\" aria-label=\"Combining Them Together permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Combining Them Together</h3>\n<p>Now that we understand all of the parts by themselves, let‚Äôs combine them together to get a macro view at the microsyntax.</p>\n<p><img src=\"./microsyntax_main.svg\" alt=\"A chart showing the microsyntax rules all-together. Rules explained below\" title=\"Microsyntax combined chart\"></p>\n<ul>\n<li>The start to any structural directive call is <strong>the <code class=\"language-text\">*</code> reserved token</strong> (a token, in this case, is just a symbol marked to do something). This just marks the directive call to be handled as a structural directive.</li>\n<li>Then, you have <strong>the <code class=\"language-text\">selector</code> value</strong> of the directive itself (which acts as a prefix to the inputs)</li>\n<li>You bind to the selector as you would any other input using <strong><code class=\"language-text\">=&quot;</code></strong> tokens</li>\n</ul>\n<p>The contents of the input itself is where the microsyntax goes.</p>\n<h4 id=\"First-Item\"><a href=\"#First-Item\" aria-label=\"First Item permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>First Item</h4>\n<p>The first item that‚Äôs allowed in the microsyntax is either an expression or a <code class=\"language-text\">let</code> binding.</p>\n<p>If an expressing <code class=\"language-text\">*prefix=&quot;5 + 3&quot;</code> is passed, this value will be passed to the same input name as the selector itself: EG the <code class=\"language-text\">ngIf</code> input on the directive with the <code class=\"language-text\">[ngIf]</code> selector value.</p>\n<p>If a <code class=\"language-text\">let</code> binding is the first item, it will work exactly as it‚Äôs explained in <a href=\"#microsyntax-explain-let\">the previous section</a></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- ‚úÖ These ARE valid for the first item --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>Expression'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>let localVar = exportKey<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token comment\">&lt;!-- üõë But these are NOT valid for the first item --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>inputKey: 'Input value expression'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>exportKey as localVar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h4 id=\"Second-Item-and-Beyond\"><a href=\"#Second-Item-and-Beyond\" aria-label=\"Second Item and Beyond permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Second Item and Beyond</h4>\n<p>After the first item, <em>you‚Äôre able to pass in a <code class=\"language-text\">let</code> binding, an <code class=\"language-text\">as</code> binding, or a key expression</em>. <strong>There can be as many of these items in a microsyntax as you‚Äôd like, so long as they‚Äôre one of those 3</strong>. These will act the way you expect them to as before. You‚Äôre not, however, able to pass an expression to act as the default input value ‚Äî that‚Äôs preserved only for the first item.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>First'; let localVar = exportKey<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>First'; exportKey as localVar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>First'; inputKey: 'Input value expression'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- And you can do more than one! --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>First'; let localVar = exportKey; exportKey as localVar; inputKey: 'Input value expression'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"Optional-Separators\"><a href=\"#Optional-Separators\" aria-label=\"Optional Separators permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Optional Separators</h2>\n<p>Just as the <code class=\"language-text\">:</code> is optional in a <a href=\"#microsyntax-explain-keyexp\">key expression</a>, <strong>all separators in the microsyntax are optional</strong>.</p>\n<p>These are all valid:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- You can mix and match which tokens you leave or don't --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>First'; let localVar = exportKey; exportKey as localVar; inputKey: 'Input value expression'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token comment\">&lt;!-- Remember that the key expression's `:` token is optional --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>First'; let localVar = exportKey exportKey as localVar; inputKey 'Input value expression'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token comment\">&lt;!-- All separator tokens are optional --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>First' let localVar = exportKey exportKey as localVar inputKey 'Input value expression'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token comment\">&lt;!-- You can shorten the `as` binding, as it's also part of the `let` binding --></span>\n<span class=\"token comment\">&lt;!-- as an optional second part --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">*makePigLatin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">'</span>First' let localVar = exportKey as localVar; inputKey 'Input value expression'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"Lets-remake-ngFor\"><a href=\"#Lets-remake-ngFor\" aria-label=\"Lets remake ngFor permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Let's remake <code class=\"language-text\">ngFor</code></h2>\n<p><a href=\"https://angular.io/guide/structural-directives#microsyntax\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The Angular section on structural directives say that you should probably study the <code class=\"language-text\">ngFor</code> code to understand them better</a>. Let's do them one better ‚Äî let's make our own.</p>\n<p>Well, admittedly, the code for <code class=\"language-text\">ngFor</code> is a bit complex and handles a lot more than I think would be covered by the scope of this post; Let's at least make a version of it that supports a limited part of its API (just for conciseness).</p>\n<p>So, what is the API we want to support?</p>\n<p><code class=\"language-text\">*uniFor=&quot;let item of items; let firstItem = isFirst&quot;</code></p>\n<p>Sounds reasonable enough. Just to make things even easier on us, let's not worry about re-rendering the list if it updates or properly cleaning up if this directive view unrenders. These requirement changes make our code much more simple for demonstration purposes, but inherently makes the resulting code unfit for production.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token function\">Directive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> selector<span class=\"token punctuation\">:</span> <span class=\"token string\">'[uniFor]'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UniForOf</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AfterViewInit</span> <span class=\"token punctuation\">{</span>\n\t@<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> uniForOf<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>\n\t\t<span class=\"token parameter\"><span class=\"token keyword\">private</span> viewContainer<span class=\"token punctuation\">:</span> ViewContainerRef<span class=\"token punctuation\">,</span>\n\t\t<span class=\"token keyword\">private</span> template<span class=\"token punctuation\">:</span> TemplateRef<span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span></span>\n\t<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n\t<span class=\"token function\">ngAfterViewInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>uniForOf<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ofItem<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewContainer<span class=\"token punctuation\">.</span><span class=\"token function\">createEmbeddedView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>template<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t\t\t\tisFirst<span class=\"token punctuation\">:</span> i <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n\t\t\t\t$implicit<span class=\"token punctuation\">:</span> ofItem<span class=\"token punctuation\">,</span>\n\t\t\t\tuniForOf<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>uniForOf\n\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tselector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n\ttemplate<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t&lt;p *uniFor=\"let num of numbers | async as allNumbers; let firstItem = isFirst\">\n\t\tNumber in a list of {{allNumbers.length}} numbers: {{num}}\n\t\t&lt;ng-container *ngIf=\"firstItem\"> it's the first number!&lt;/ng-container>\n\t&lt;/p>\n\t</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// `import {of} from 'rxjs';`</span>\n\tnumbers <span class=\"token operator\">=</span> <span class=\"token keyword\">of</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<iframe src=\"https://stackblitz.com/edit/start-to-source-39-uni-for?ctl=1&embed=1&file=src/app/app.component.ts\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<ul>\n<li>We're starting with enabling <code class=\"language-text\">uniFor</code> as the structural directive name</li>\n<li>Then we're defining an input to accept <code class=\"language-text\">of</code> as a key in the syntax (to match the <code class=\"language-text\">ngFor</code> structural directive syntax).</li>\n<li>We can then reference this value later with <code class=\"language-text\">this.uniForOf</code> just as we are in the <code class=\"language-text\">ngAfterViewInit</code>.</li>\n<li>\n<p>In that lifecycle method, we're then creating an embedded view for each item in the array</p>\n<ul>\n<li>This view is passed a context with an implicit value (so that <code class=\"language-text\">_var</code> in<code class=\"language-text\">let _var of list</code> will have the value of this item)</li>\n<li>We also pass the index to the context to give a boolean if an item is the first in a list</li>\n<li>Then we pass a <code class=\"language-text\">uniForOf</code> so that we can use <code class=\"language-text\">as</code> to capture the value passed to the <code class=\"language-text\">of</code> portion of the syntax</li>\n</ul>\n</li>\n<li>Finally, we use the <a href=\"https://angular.io/api/common/AsyncPipe\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">async pipe</a> to get the value of the array that's inside of an observable</li>\n</ul>\n<h1 id=\"Conclusion\"><a href=\"#Conclusion\" aria-label=\"Conclusion permalink\" class=\"anchor\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.10021 27.8995C6.14759 25.9469 6.14759 22.7811 8.10021 20.8284L12.6964 16.2322C14.4538 14.4749 17.303 14.4749 19.0604 16.2322L20.121 17.2929C20.7068 17.8787 21.6566 17.8787 22.2423 17.2929C22.8281 16.7071 22.8281 15.7574 22.2423 15.1716L21.1817 14.1109C18.2528 11.182 13.504 11.182 10.5751 14.1109L5.97889 18.7071C2.85469 21.8313 2.85469 26.8966 5.97889 30.0208C9.10308 33.145 14.1684 33.145 17.2926 30.0208L18.3533 28.9602C18.939 28.3744 18.939 27.4246 18.3533 26.8388C17.7675 26.2531 16.8177 26.2531 16.2319 26.8388L15.1713 27.8995C13.2187 29.8521 10.0528 29.8521 8.10021 27.8995Z\" fill=\"#153E67\"/><path d=\"M27.8992 8.10051C29.8518 10.0531 29.8518 13.219 27.8992 15.1716L23.303 19.7678C21.5456 21.5251 18.6964 21.5251 16.939 19.7678L15.8784 18.7071C15.2926 18.1213 14.3428 18.1213 13.7571 18.7071C13.1713 19.2929 13.1713 20.2426 13.7571 20.8284L14.8177 21.8891C17.7467 24.818 22.4954 24.818 25.4243 21.8891L30.0205 17.2929C33.1447 14.1687 33.1447 9.10339 30.0205 5.97919C26.8963 2.855 21.831 2.855 18.7068 5.97919L17.6461 7.03985C17.0604 7.62564 17.0604 8.57539 17.6461 9.16117C18.2319 9.74696 19.1817 9.74696 19.7675 9.16117L20.8281 8.10051C22.7808 6.14789 25.9466 6.14789 27.8992 8.10051Z\" fill=\"#153E67\"/></svg></a>Conclusion</h1>\n<p>All in all, Angular has extremely powerful tools that it provides to you out-of-the-box for managing templates across your application. While a lot of these examples have been small, silly, and contrived, they've loosely come from patterns I've seen in very large Angular libraries. As a result, utilizing them can solve many problems and serve as a starting point for highly extensible code.</p>\n<p>Other than that, that's it! You reached the end! You did it! üéä</p>\n<p>Thank you so much for taking the time to read through, always feel free to reach out on Twitter or comment in the comment section below to ask further questions or add to the conversation/teach me something, always happy to help and always loving to learn!</p>","frontmatter":{"title":"Angular Templates ‚Äî From Start to Source","published":"July 11, 2019","tags":["angular","templates"],"description":"Learn how templates work in Angular. From the basics to being able to read Angular source code and write your own structural directives","authors":[{"name":"Corbin Crutchley","id":"crutchcorn","description":"I'm the ONE and only Corbin, aka:\nThe Uni-Corn ü¶ÑüåΩ\nI do development of all kinds, usually focusing on web development.\nI collect retro video games üéÆ, like reading üìñ, love teaching üë®‚Äçüè´","color":"#ba68c8","fields":{"isAuthor":true},"roles":[{"prettyname":"Dev-ops","id":"devops"},{"prettyname":"Developer","id":"developer"}],"socials":{"twitter":"crutchcorn","github":"crutchcorn","website":null},"pronouns":{"they":"they","them":"them","their":"their","theirs":"theirs","themselves":"themselves"},"profileImg":{"childImageSharp":{"smallPic":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAADXUAAA11AFeZeUIAAAFZElEQVQ4yx2T608b1hmH/ads64e1uUCbYEISboYRA8YXbAdsY4yNL2CDbRxjcwnmTjABAnaAEDAQLikO95AmzaUs2bI0bdKWqKFVNK0V1SJVkaZ061qp26Q8O+qH98vROY+e876/V7L65O88f/mav77+hf2f37D/0xv2vv8nH++94D/AD//6N9++fMXajbtMLa+w9fAp+z/8l1c/w/pHfyZ+dYXH+z+y94//cXP3GySdyadcvHqX9+9/xbc/wd6rH5m/fZ+V9RWWZqYJev2o1eXodUY8NW7au3p5uLvLk2d3aO8JEeruY347ydrda3SPRJH0bj0ntvoXBraesff6Dc+/2yc+3I/L5kSWW0RebiH5uQXkZcvIz86hSJaHy2Fic7mXke4GzEYNHV1aPAEt1aZCJP0CNJJ8wNDNr/nuF3j0YAetSodSUYqnykLQbqG1xspZUa1OM55ytYDmoy8tp8Vfh9GsIUeZg1SWRXpmpgBe3yW+/jGxlSQ37yUZijSRKVMQqnHSF/DSH/Rzzu/lvHgca3QzFnTi0Sl49/ARTmRko1AoOHRMyoG0dH5/RIrkwgfPmFicoC1qZXzUR6PLhrxQTbffx2AwwFDAx4UzXkYb6zjvdRJrsNNcoUZ2/ASpKWmiLXmkSNNISU/n4NEMJIm1JIPxZuxBI5dGA9RUVqBXazlrryTmtzHXUsvlgJVeq4ZBl4FRbxWDjlIsRTLShVHWiZMcTkvjd+8c4q2D7yLZ2EoQiVZR11JGf68La3kZVSoFXr0Sb2kxo/VWBmwabIX5tBoUjDrUjLl1BLX55GRkkJsleiegvz2Qwm/ePoxkZKKRirrTmOtVzE75cFtMKHNl+AXQpdEy4HIK4GmCpSVEDBoGhOm0Twyk7BSnjksxq4rRlKp4SxjmyHOROOrdZBTKOS7KIy4ORs4QNFfQZiijy25nwl/PpLC8YCkn7nQwG67hSqOZwWolYVUmEW0B6RnHBSyTIq1MBDt6gRKDEblez0m5+KY/wHRzPX1GNcMuE3NeE5M15UzWljHfYGG13cNCqJJE0My0vZSQRsjkZZFyLJXDUtHD4ckIfcMu2jq0BIIldPb4uRyyEVL/gUa1nFhlMRcdemK1RkZtClabLSw2W3m/1c5i0EGhLJcjJ9KQZkpJlR5FUtUQxuDyoDGUo9SrsDjMxEIOPKeyReVzyW1iwqanR68g7tKy2iIsO0RGHRpOFxeQejJdTPkQb6ce4OB77yCZnFtmLLHIwMg43b1RIp29xDqbiJQX0lRSQFRbzJRTfLfRwkqrlc0OB8m2alrE2ezcRcYvRmltacTn8+BwVCN5snuNh59M8KfHMe7d7+Lu/Xa2ths5W62gScDO23SM1Zm4Eq4iKeyWz9pE/0zcuzbFy799zf5Xn/PNl5/y4ouHfPnJDpLrO6Os3Wxl9YMwSxu1LK6JR9sOhs81cM6mJe45zdSZSmYFZDZoYDZUwbyojWRYrOoAOzsJnj7e4vlnH/Fi9xGS7T/G2LzdweaHLWzeCrNxw0Z8PkrA7qPLqqTPLGespoQpn+5X4FJTBQl/Gf4zfi4t1DKzUMHUQhVXkrWsX48gubUzzPU73STX69jY8nL7QZyey3eo1Yr1M8hpLStg3C1C36AX+TOyFBaR8arR6vx4I8MsL7iZm/EzM+NmKmFFcu1GhI0P21m7FSV55wbLj76nuvMWJflKOoxyOk1FTNTpuRquEHYWrorIzPq1nMozclQ9Tlt/D4kpJ4lpO5OTLiQLm30s375HQ/82Zb4VXJ1b6BqSZGRbCIh9HanRigzqfoUtNVUKQ4tYxWKOZTlJU00iVU6gsg0xFIswO+3k/yx/yBivvzwIAAAAAElFTkSuQmCC","width":60,"height":60,"src":"/static/d36f9347f2b108aa8245d47437003823/e3d99/crutchcorn.png","srcSet":"/static/d36f9347f2b108aa8245d47437003823/e3d99/crutchcorn.png 1x,\n/static/d36f9347f2b108aa8245d47437003823/f2528/crutchcorn.png 1.5x,\n/static/d36f9347f2b108aa8245d47437003823/aeb64/crutchcorn.png 2x"},"mediumPic":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAADXUAAA11AFeZeUIAAAFZElEQVQ4yx2T608b1hmH/ads64e1uUCbYEISboYRA8YXbAdsY4yNL2CDbRxjcwnmTjABAnaAEDAQLikO95AmzaUs2bI0bdKWqKFVNK0V1SJVkaZ061qp26Q8O+qH98vROY+e876/V7L65O88f/mav77+hf2f37D/0xv2vv8nH++94D/AD//6N9++fMXajbtMLa+w9fAp+z/8l1c/w/pHfyZ+dYXH+z+y94//cXP3GySdyadcvHqX9+9/xbc/wd6rH5m/fZ+V9RWWZqYJev2o1eXodUY8NW7au3p5uLvLk2d3aO8JEeruY347ydrda3SPRJH0bj0ntvoXBraesff6Dc+/2yc+3I/L5kSWW0RebiH5uQXkZcvIz86hSJaHy2Fic7mXke4GzEYNHV1aPAEt1aZCJP0CNJJ8wNDNr/nuF3j0YAetSodSUYqnykLQbqG1xspZUa1OM55ytYDmoy8tp8Vfh9GsIUeZg1SWRXpmpgBe3yW+/jGxlSQ37yUZijSRKVMQqnHSF/DSH/Rzzu/lvHgca3QzFnTi0Sl49/ARTmRko1AoOHRMyoG0dH5/RIrkwgfPmFicoC1qZXzUR6PLhrxQTbffx2AwwFDAx4UzXkYb6zjvdRJrsNNcoUZ2/ASpKWmiLXmkSNNISU/n4NEMJIm1JIPxZuxBI5dGA9RUVqBXazlrryTmtzHXUsvlgJVeq4ZBl4FRbxWDjlIsRTLShVHWiZMcTkvjd+8c4q2D7yLZ2EoQiVZR11JGf68La3kZVSoFXr0Sb2kxo/VWBmwabIX5tBoUjDrUjLl1BLX55GRkkJsleiegvz2Qwm/ePoxkZKKRirrTmOtVzE75cFtMKHNl+AXQpdEy4HIK4GmCpSVEDBoGhOm0Twyk7BSnjksxq4rRlKp4SxjmyHOROOrdZBTKOS7KIy4ORs4QNFfQZiijy25nwl/PpLC8YCkn7nQwG67hSqOZwWolYVUmEW0B6RnHBSyTIq1MBDt6gRKDEblez0m5+KY/wHRzPX1GNcMuE3NeE5M15UzWljHfYGG13cNCqJJE0My0vZSQRsjkZZFyLJXDUtHD4ckIfcMu2jq0BIIldPb4uRyyEVL/gUa1nFhlMRcdemK1RkZtClabLSw2W3m/1c5i0EGhLJcjJ9KQZkpJlR5FUtUQxuDyoDGUo9SrsDjMxEIOPKeyReVzyW1iwqanR68g7tKy2iIsO0RGHRpOFxeQejJdTPkQb6ce4OB77yCZnFtmLLHIwMg43b1RIp29xDqbiJQX0lRSQFRbzJRTfLfRwkqrlc0OB8m2alrE2ezcRcYvRmltacTn8+BwVCN5snuNh59M8KfHMe7d7+Lu/Xa2ths5W62gScDO23SM1Zm4Eq4iKeyWz9pE/0zcuzbFy799zf5Xn/PNl5/y4ouHfPnJDpLrO6Os3Wxl9YMwSxu1LK6JR9sOhs81cM6mJe45zdSZSmYFZDZoYDZUwbyojWRYrOoAOzsJnj7e4vlnH/Fi9xGS7T/G2LzdweaHLWzeCrNxw0Z8PkrA7qPLqqTPLGespoQpn+5X4FJTBQl/Gf4zfi4t1DKzUMHUQhVXkrWsX48gubUzzPU73STX69jY8nL7QZyey3eo1Yr1M8hpLStg3C1C36AX+TOyFBaR8arR6vx4I8MsL7iZm/EzM+NmKmFFcu1GhI0P21m7FSV55wbLj76nuvMWJflKOoxyOk1FTNTpuRquEHYWrorIzPq1nMozclQ9Tlt/D4kpJ4lpO5OTLiQLm30s375HQ/82Zb4VXJ1b6BqSZGRbCIh9HanRigzqfoUtNVUKQ4tYxWKOZTlJU00iVU6gsg0xFIswO+3k/yx/yBivvzwIAAAAAElFTkSuQmCC","width":85,"height":85,"src":"/static/d36f9347f2b108aa8245d47437003823/ddce7/crutchcorn.png","srcSet":"/static/d36f9347f2b108aa8245d47437003823/ddce7/crutchcorn.png 1x,\n/static/d36f9347f2b108aa8245d47437003823/e9aae/crutchcorn.png 1.5x,\n/static/d36f9347f2b108aa8245d47437003823/e5f4f/crutchcorn.png 2x"},"bigPic":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAADXUAAA11AFeZeUIAAAFZElEQVQ4yx2T608b1hmH/ads64e1uUCbYEISboYRA8YXbAdsY4yNL2CDbRxjcwnmTjABAnaAEDAQLikO95AmzaUs2bI0bdKWqKFVNK0V1SJVkaZ061qp26Q8O+qH98vROY+e876/V7L65O88f/mav77+hf2f37D/0xv2vv8nH++94D/AD//6N9++fMXajbtMLa+w9fAp+z/8l1c/w/pHfyZ+dYXH+z+y94//cXP3GySdyadcvHqX9+9/xbc/wd6rH5m/fZ+V9RWWZqYJev2o1eXodUY8NW7au3p5uLvLk2d3aO8JEeruY347ydrda3SPRJH0bj0ntvoXBraesff6Dc+/2yc+3I/L5kSWW0RebiH5uQXkZcvIz86hSJaHy2Fic7mXke4GzEYNHV1aPAEt1aZCJP0CNJJ8wNDNr/nuF3j0YAetSodSUYqnykLQbqG1xspZUa1OM55ytYDmoy8tp8Vfh9GsIUeZg1SWRXpmpgBe3yW+/jGxlSQ37yUZijSRKVMQqnHSF/DSH/Rzzu/lvHgca3QzFnTi0Sl49/ARTmRko1AoOHRMyoG0dH5/RIrkwgfPmFicoC1qZXzUR6PLhrxQTbffx2AwwFDAx4UzXkYb6zjvdRJrsNNcoUZ2/ASpKWmiLXmkSNNISU/n4NEMJIm1JIPxZuxBI5dGA9RUVqBXazlrryTmtzHXUsvlgJVeq4ZBl4FRbxWDjlIsRTLShVHWiZMcTkvjd+8c4q2D7yLZ2EoQiVZR11JGf68La3kZVSoFXr0Sb2kxo/VWBmwabIX5tBoUjDrUjLl1BLX55GRkkJsleiegvz2Qwm/ePoxkZKKRirrTmOtVzE75cFtMKHNl+AXQpdEy4HIK4GmCpSVEDBoGhOm0Twyk7BSnjksxq4rRlKp4SxjmyHOROOrdZBTKOS7KIy4ORs4QNFfQZiijy25nwl/PpLC8YCkn7nQwG67hSqOZwWolYVUmEW0B6RnHBSyTIq1MBDt6gRKDEblez0m5+KY/wHRzPX1GNcMuE3NeE5M15UzWljHfYGG13cNCqJJE0My0vZSQRsjkZZFyLJXDUtHD4ckIfcMu2jq0BIIldPb4uRyyEVL/gUa1nFhlMRcdemK1RkZtClabLSw2W3m/1c5i0EGhLJcjJ9KQZkpJlR5FUtUQxuDyoDGUo9SrsDjMxEIOPKeyReVzyW1iwqanR68g7tKy2iIsO0RGHRpOFxeQejJdTPkQb6ce4OB77yCZnFtmLLHIwMg43b1RIp29xDqbiJQX0lRSQFRbzJRTfLfRwkqrlc0OB8m2alrE2ezcRcYvRmltacTn8+BwVCN5snuNh59M8KfHMe7d7+Lu/Xa2ths5W62gScDO23SM1Zm4Eq4iKeyWz9pE/0zcuzbFy799zf5Xn/PNl5/y4ouHfPnJDpLrO6Os3Wxl9YMwSxu1LK6JR9sOhs81cM6mJe45zdSZSmYFZDZoYDZUwbyojWRYrOoAOzsJnj7e4vlnH/Fi9xGS7T/G2LzdweaHLWzeCrNxw0Z8PkrA7qPLqqTPLGespoQpn+5X4FJTBQl/Gf4zfi4t1DKzUMHUQhVXkrWsX48gubUzzPU73STX69jY8nL7QZyey3eo1Yr1M8hpLStg3C1C36AX+TOyFBaR8arR6vx4I8MsL7iZm/EzM+NmKmFFcu1GhI0P21m7FSV55wbLj76nuvMWJflKOoxyOk1FTNTpuRquEHYWrorIzPq1nMozclQ9Tlt/D4kpJ4lpO5OTLiQLm30s375HQ/82Zb4VXJ1b6BqSZGRbCIh9HanRigzqfoUtNVUKQ4tYxWKOZTlJU00iVU6gsg0xFIswO+3k/yx/yBivvzwIAAAAAElFTkSuQmCC","width":300,"height":300,"src":"/static/d36f9347f2b108aa8245d47437003823/5f3f7/crutchcorn.png","srcSet":"/static/d36f9347f2b108aa8245d47437003823/5f3f7/crutchcorn.png 1x,\n/static/d36f9347f2b108aa8245d47437003823/e4982/crutchcorn.png 1.5x,\n/static/d36f9347f2b108aa8245d47437003823/5c74c/crutchcorn.png 2x"}}}}],"license":{"licenceType":"Creative Commons License","footerImg":"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png","explainLink":"http://creativecommons.org/licenses/by-nc-sa/4.0/","name":"Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)","displayName":"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License"}},"fields":{"slug":"/angular-templates-start-to-source/"},"wordCount":{"words":9364}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/angular-templates-start-to-source/","previous":{"fields":{"slug":"/uttering-hello-introduction-post/"},"frontmatter":{"title":"Uttering Hello ‚Äî The Site's First Post","authors":[{"id":"crutchcorn"}]}},"next":{"fields":{"slug":"/travis-ci-for-android/"},"frontmatter":{"title":"Continuous Integration with Travis CI for Android","authors":[{"id":"fennifith"}]}}}}}